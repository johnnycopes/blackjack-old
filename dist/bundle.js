!function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),l=(function(e){e&&e.__esModule}(s),function(){function e(t,a){n(this,e);var i=void 0;"dealer"===t?i="#dealer":"player"===t&&(1===a?i="#hand1":2===a&&(i="#hand2")),this.$wrapper=$(""+i),this.$hand=$(i+" .hand"),this.$points=$(i+" .points"),this.playing=!1,this.cards=[],this.outcome}return i(e,[{key:"addCard",value:function(e,t){this.cards.push(e),this.$hand.append(t)}},{key:"canSplit",value:function(){return this.cards[0].point===this.cards[1].point}},{key:"getPoints",value:function(){var e=0,t=0,a=!0,n=!1,i=void 0;try{for(var s,l=this.cards[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var r=s.value,o=r.point;for(1===o?(e+=10,t++):o>10&&(o=10),e+=o;e>21&&t>0;)e-=10,t--}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}return e}},{key:"removeCard",value:function(){return{card:this.cards.pop(),$card:this.$hand.find("img:last-child").remove()}}},{key:"revealHole",value:function(){this.$hand.find("img:first-child").attr("src",this.cards[0].getImageUrl())}},{key:"seeCard",value:function(e){return this.cards[e-1]}},{key:"toggleHighlight",value:function(){this.playing?this.$wrapper.addClass("currentHand"):this.$wrapper.removeClass("currentHand")}},{key:"updateDisplay",value:function(e){this.$points.text(e)}}]),e}());t.default=l},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=function(){function e(t,a){n(this,e),this.point=t,this.suit=a}return i(e,[{key:"getImageUrl",value:function(){var e=this.point;return 11===this.point?e="jack":12===this.point?e="queen":13===this.point?e="king":1===this.point&&(e="ace"),"images/"+e+"_of_"+this.suit+".svg"}}]),e}();t.default=s},function(e,t,a){"use strict";var n=a(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=new i.default;s.makeBet(),$(".deal").on("click",function(){s.resetGame(),s.gameDeck.generate(3),s.deal()}),$(".hit").on("click",function(){s.hit()}),$(".stand").on("click",function(){s.stand()}),$(".double-down").on("click",function(){s.doubleDown()}),$(".split").on("click",function(){s.split()})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),r=n(l),o=a(4),u=n(o),h=a(5),d=n(h),c=function(){function e(){i(this,e),this.wallet=new d.default,this.gameDeck=new u.default,this.dealerHand=new r.default("dealer"),this.playerHand=new r.default("player",1),this.splitInPlay=!1,this.$total=$(".total"),this.$bet=$(".currentBet"),this.$change=$(".change"),this.$deal=$(".deal"),this.$hit=$(".hit"),this.$stand=$(".stand"),this.$doubleDown=$(".double-down"),this.$split=$(".split")}return s(e,[{key:"adjustSpace",value:function(){var e=void 0;e=this.splitInPlay?50:100,$(".playerHand-div").css("width",e+"%")}},{key:"calibrateSlider",value:function(){}},{key:"deal",value:function(){this.startGameMode(),this.gameDeck.shuffle(),this.dealOneCard(this.dealerHand,"hole"),this.dealOneCard(this.playerHand);var e=this.dealOneCard(this.dealerHand),t=this.dealOneCard(this.playerHand);this.dealerHand.updateDisplay("?"),21===e&&21===t?(this.updateMessage("Push"),this.dealerHand.updateDisplay("Blackjack"),this.playerHand.updateDisplay("BLACKJACK, HOT DAMN!")):21===e?(this.updateMessage("Dealer wins"),this.dealerHand.updateDisplay("Blackjack"),this.outcome("lose")):21===t?(this.updateMessage("You win!"),this.dealerHand.updateDisplay(e),this.playerHand.updateDisplay("BLACKJACK, HOT DAMN!"),this.outcome("blackjack")):this.wallet.money>2*this.wallet.bet&&(11===t&&this.enable(this.$doubleDown),this.playerHand.canSplit()&&this.enable(this.$split))}},{key:"dealOneCard",value:function(e,t){var a=this.gameDeck.draw(),n=$("<img />",{class:"card",src:""+a.getImageUrl()});return"hole"===t?n.attr("src","images/back-suits-red.svg"):"double-down"===t?n.addClass("card-dd"):"split"===t&&n.addClass("split"),e.addCard(a,n),e.updateDisplay(e.getPoints()),e.getPoints()}},{key:"dealerTurn",value:function(){var e=this;for(this.dealerHand.revealHole();this.dealerHand.getPoints()<17;)this.dealOneCard(this.dealerHand);for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];a.forEach(function(t){t.outcome||e.evaluateHand(t)})}},{key:"disable",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=!0,i=!1,s=void 0;try{for(var l,r=t[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){l.value.attr("disabled",!0)}}catch(e){i=!0,s=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw s}}}},{key:"doubleDown",value:function(){this.wallet.doubleBet(),this.dealOneCard(this.playerHand,"double-down"),this.stand()}},{key:"enable",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=!0,i=!1,s=void 0;try{for(var l,r=t[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){l.value.attr("disabled",!1)}}catch(e){i=!0,s=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw s}}}},{key:"endGameMode",value:function(){this.playerHand.playing=!1,this.selectCurrentHand(this.playerHand),this.dealerHand.revealHole(),this.dealerHand.updateDisplay(this.dealerHand.getPoints()),this.wallet.update(),this.wallet.assessChange(),$(".betting .buttons").show(),this.enable(this.$deal),this.disable(this.$hit,this.$stand)}},{key:"evaluateHand",value:function(e){var t=this.dealerHand.getPoints(),a=e.getPoints();e.outcome=t>21||a>t?"win":a<t?"lose":"push"}},{key:"hit",value:function(){if(this.disable(this.$doubleDown,this.$split),this.splitInPlay){var e=this.selectCurrentHand(this.playerHand,this.playerHand2);this.dealOneCard(e,"split")>21&&(e===this.playerHand?(this.playerHand.outcome="lose",this.playerHand.playing=!1,this.playerHand2.playing=!0,this.selectCurrentHand(this.playerHand,this.playerHand2)):e===this.playerHand2&&(this.playerHand2.outcome="lose",this.playerHand2.playing=!1,this.selectCurrentHand(this.playerHand,this.playerHand2),this.invokeOutcome(this.playerHand,this.playerHand2)))}else{this.dealOneCard(this.playerHand)>21&&(this.updateMessage("You bust"),this.outcome("lose"))}}},{key:"invokeOutcome",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0].outcome;1===t.length?("win"===n?this.updateMessage("You win!"):"lose"===n&&this.updateMessage("Dealer wins"),this.outcome(n)):2===t.length&&this.multipleOutcomes(t)}},{key:"makeBet",value:function(){var e=this;this.wallet.update(),$(".bet-btn").on("click",function(){var t=e.wallet.money-e.wallet.bet;$(this).hasClass("add10")&&t>=10?e.wallet.bet+=10:$(this).hasClass("add50")&&t>=50?e.wallet.bet+=50:$(this).hasClass("add100")&&t>=100?e.wallet.bet+=100:$(this).hasClass("add500")&&t>=500?e.wallet.bet+=500:$(this).hasClass("all-in")?e.wallet.bet=e.wallet.money:$(this).hasClass("reset")&&(e.wallet.bet=10),e.$bet.text(e.wallet.bet)})}},{key:"multipleOutcomes",value:function(e){var t=e[0].outcome,a=e[1].outcome;if(t===a)"blackjack"===t?this.updateMessage("TWO BLACKJACKS!!!"):"win"===t?this.updateMessage("You win both!"):"lose"===t?this.updateMessage("Dealer wins both"):this.updateMessage("Push both"),this.wallet.payout(t);else if(t!==a){var n=this.wallet.bet/2,i=0,s=0;"blackjack"===t||"blackjack"===a?(i=1.5*n,"win"===t||"win"===a?(s=n,this.updateMessage("You win both!")):"lose"===t||"lose"===a?(s=-n,this.updateMessage("You and dealer each win one")):this.updateMessage("You win one, push")):"win"===t||"win"===a?(i=n,"lose"===t||"lose"===a?(s=-n,this.updateMessage("You and dealer each win one")):this.updateMessage("You win one, push")):"lose"!==t&&"lose"!==a||(i=-n,this.updateMessage("Dealer wins one, push")),this.wallet.payout("custom",i,s)}this.splitInPlay=!1,this.endGameMode()}},{key:"modal",value:function(e){if("bankrupt"===e){var t=this;$(".modal, .modal-overlay").removeClass("hide"),$(".modal-guts button").on("click",function(){$(".modal, .modal-overlay").addClass("hide"),$(".title-screen").show(),t.resetGame(),t.wallet.reset()})}}},{key:"outcome",value:function(e){this.wallet.payout(e),"push"===e?this.updateMessage("Push"):"lose"===e&&this.wallet.money-this.wallet.bet<=0&&this.modal("bankrupt"),this.endGameMode()}},{key:"resetGame",value:function(){this.gameDeck=new u.default,this.dealerHand=new r.default("dealer"),this.playerHand=new r.default("player",1),$(".messages").empty(),$(".player-hand").empty(),$(".dealer-hand").empty(),$(".player-points").empty(),$(".dealer-points").empty(),$(".change").empty()}},{key:"selectCurrentHand",value:function(){for(var e=void 0,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=!0,s=!1,l=void 0;try{for(var r,o=a[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var u=r.value;u.toggleHighlight(),u.playing&&(e=u)}}catch(e){s=!0,l=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw l}}return e}},{key:"split",value:function(){this.splitInPlay=!0,this.disable(this.$split),this.wallet.doubleBet(),this.adjustSpace(),this.playerHand2=new r.default("player",2);var e=this.playerHand.removeCard();this.playerHand2.addCard(e.card,e.$card),this.dealOneCard(this.playerHand),this.dealOneCard(this.playerHand2)}},{key:"stand",value:function(){if(this.splitInPlay){var e=this.selectCurrentHand(this.playerHand,this.playerHand2);e===this.playerHand?(this.playerHand.playing=!1,this.playerHand2.playing=!0,this.selectCurrentHand(this.playerHand,this.playerHand2)):e===this.playerHand2&&(this.playerHand2.playing=!1,this.selectCurrentHand(this.playerHand,this.playerHand2),this.dealerTurn(this.playerHand,this.playerHand2),this.invokeOutcome(this.playerHand,this.playerHand2))}else this.disable(this.$hit,this.$stand,this.$doubleDown,this.$split),this.dealerTurn(this.playerHand),this.invokeOutcome(this.playerHand)}},{key:"startGameMode",value:function(){$(".title-screen").hide(),this.adjustSpace(),this.enable(this.$hit,this.$stand),this.disable(this.$deal),$(".betting .buttons").hide(),this.playerHand.playing=!0,this.selectCurrentHand(this.playerHand)}},{key:"updateMessage",value:function(e){$(".messages").append("<h1>"+e+"</h1>")}}]),e}();t.default=c},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(1),r=n(l),o=a(0),u=(n(o),function(){function e(){i(this,e),this.cards=[]}return s(e,[{key:"draw",value:function(){return this.cards.pop()}},{key:"generate",value:function(e){for(e||(e=1);e>0;){for(var t=1;t<=13;t++)this.cards.push(new r.default(t,"spades")),this.cards.push(new r.default(t,"diamonds")),this.cards.push(new r.default(t,"hearts")),this.cards.push(new r.default(t,"clubs"));e--}}},{key:"shuffle",value:function(){for(var e=this.cards.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),a=[this.cards[t]];this.cards[e]=a[0]}}}]),e}());t.default=u},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=function(){function e(){n(this,e),this.money=500,this.bet=10,this.change="",this.$total=$(".total"),this.$bet=$(".currentBet"),this.$change=$(".change")}return i(e,[{key:"assessChange",value:function(){var e="",t="";this.change>0?(e="positive",t="+"):this.change<0&&(e="negative",t="-"),this.$change.append('<span class="'+e+'">'+t+" $"+Math.abs(this.change)+"</span>")}},{key:"doubleBet",value:function(){this.money-=this.bet,this.bet*=2,this.update()}},{key:"payout",value:function(e,t,a){"blackjack"===e?this.change=1.5*this.bet:"win"===e?this.change=this.bet:"lose"===e?this.change=-this.bet:"push"===e?this.change=0:"multiple"===e&&(this.change=t+a),this.money+=this.change}},{key:"reset",value:function(){this.money=500,this.bet=10,this.change="",this.update()}},{key:"update",value:function(){this.$total.text(this.money),this.$bet.text(this.bet)}}]),e}();t.default=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA2YjMyMWQ4MjYzNjMyNjRmODFiMiIsIndlYnBhY2s6Ly8vLi9qcy9jb21wb25lbnRzL2hhbmQuanMiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9jYXJkLmpzIiwid2VicGFjazovLy8uL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9jb21wb25lbnRzL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9kZWNrLmpzIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvd2FsbGV0LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwidmFsdWUiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY2FyZCIsIkhhbmQiLCJvYmoiLCJvd25lciIsImhhbmROdW1iZXIiLCJ0aGlzIiwic2VsZWN0b3IiLCIkd3JhcHBlciIsIiQiLCIkaGFuZCIsIiRwb2ludHMiLCJwbGF5aW5nIiwiY2FyZHMiLCJvdXRjb21lIiwiY2FyZCIsIiRjYXJkIiwicHVzaCIsImFwcGVuZCIsInBvaW50IiwidG90YWwiLCJhY2VzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJlcnIiLCJyZXR1cm4iLCJwb3AiLCJmaW5kIiwicmVtb3ZlIiwiYXR0ciIsImdldEltYWdlVXJsIiwiaW5kZXgiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiY29udGVudCIsInRleHQiLCJkZWZhdWx0IiwiQ2FyZCIsInN1aXQiLCJfZ2FtZSIsIl9nYW1lMiIsImN1cnJlbnRHYW1lIiwibWFrZUJldCIsIm9uIiwicmVzZXRHYW1lIiwiZ2FtZURlY2siLCJnZW5lcmF0ZSIsImRlYWwiLCJoaXQiLCJzdGFuZCIsImRvdWJsZURvd24iLCJzcGxpdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaGFuZCIsIl9oYW5kMiIsIl9kZWNrIiwiX2RlY2syIiwiX3dhbGxldCIsIl93YWxsZXQyIiwiR2FtZSIsIndhbGxldCIsImRlYWxlckhhbmQiLCJwbGF5ZXJIYW5kIiwic3BsaXRJblBsYXkiLCIkdG90YWwiLCIkYmV0IiwiJGNoYW5nZSIsIiRkZWFsIiwiJGhpdCIsIiRzdGFuZCIsIiRkb3VibGVEb3duIiwiJHNwbGl0Iiwic2l6ZSIsImNzcyIsInN0YXJ0R2FtZU1vZGUiLCJzaHVmZmxlIiwiZGVhbE9uZUNhcmQiLCJkZWFsZXJQb2ludHMiLCJwbGF5ZXJQb2ludHMiLCJ1cGRhdGVEaXNwbGF5IiwidXBkYXRlTWVzc2FnZSIsIm1vbmV5IiwiYmV0IiwiZW5hYmxlIiwiY2FuU3BsaXQiLCJoYW5kIiwic3BlY2lhbCIsImRyYXciLCJjbGFzcyIsInNyYyIsImFkZENhcmQiLCJnZXRQb2ludHMiLCJfdGhpcyIsInJldmVhbEhvbGUiLCJfbGVuIiwiYXJndW1lbnRzIiwiaGFuZHMiLCJBcnJheSIsIl9rZXkiLCJmb3JFYWNoIiwiZXZhbHVhdGVIYW5kIiwiX2xlbjIiLCJlbGVtZW50cyIsIl9rZXkyIiwiZG91YmxlQmV0IiwiX2xlbjMiLCJfa2V5MyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInNlbGVjdEN1cnJlbnRIYW5kIiwidXBkYXRlIiwiYXNzZXNzQ2hhbmdlIiwic2hvdyIsImRpc2FibGUiLCJjdXJyZW50SGFuZCIsInBsYXllckhhbmQyIiwiaW52b2tlT3V0Y29tZSIsIl9sZW40IiwiX2tleTQiLCJoYW5kMSIsIm11bHRpcGxlT3V0Y29tZXMiLCJnYW1lIiwicG9zc2libGVCZXQiLCJoYXNDbGFzcyIsImhhbmQyIiwicGF5b3V0IiwiaW5pdGlhbEJldCIsImhhbmQxVmFsdWUiLCJoYW5kMlZhbHVlIiwiZW5kR2FtZU1vZGUiLCJtb2RhbFR5cGUiLCJyZXNldCIsInJlc3VsdCIsIm1vZGFsIiwiZW1wdHkiLCJfbGVuNSIsIl9rZXk1IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwidG9nZ2xlSGlnaGxpZ2h0IiwiYWRqdXN0U3BhY2UiLCJyZW1vdmVkQ2FyZCIsInJlbW92ZUNhcmQiLCJkZWFsZXJUdXJuIiwiaGlkZSIsIm1lc3NhZ2UiLCJfY2FyZDIiLCJEZWNrIiwibnVtRGVja3MiLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX3JlZiIsIldhbGxldCIsImNoYW5nZSIsImNsYXNzTmFtZSIsInN5bWJvbCIsImFicyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxF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QjNLLElBQUssUUFDTFIsTUFBTyxXT3gxQlBnQixLQUFLbUYsTUFBUSxJQUNibkYsS0FBS29GLElBQU0sR0FDWHBGLEtBQUttSyxPQUFTLEdBQ2RuSyxLQUFLbUgsWVA0MUJMM0gsSUFBSyxTQUNMUixNQUFPLFdPejFCUGdCLEtBQUtrRSxPQUFPN0IsS0FBS3JDLEtBQUttRixPQUN0Qm5GLEtBQUttRSxLQUFLOUIsS0FBS3JDLEtBQUtvRixTUDgxQmQ4RSxJQUdSOU0sR0FBUWtGLFFPMzVCYTRIIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jYXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9jYXJkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhcmQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgSGFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGFuZChvd25lciwgaGFuZE51bWJlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIYW5kKTtcblxuICAgIHZhciBzZWxlY3RvciA9IHZvaWQgMDtcbiAgICBpZiAob3duZXIgPT09ICdkZWFsZXInKSB7XG4gICAgICBzZWxlY3RvciA9IFwiI2RlYWxlclwiO1xuICAgIH0gZWxzZSBpZiAob3duZXIgPT09ICdwbGF5ZXInKSB7XG4gICAgICBpZiAoaGFuZE51bWJlciA9PT0gMSkge1xuICAgICAgICBzZWxlY3RvciA9IFwiI2hhbmQxXCI7XG4gICAgICB9IGVsc2UgaWYgKGhhbmROdW1iZXIgPT09IDIpIHtcbiAgICAgICAgc2VsZWN0b3IgPSBcIiNoYW5kMlwiO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLiR3cmFwcGVyID0gJChcIlwiICsgc2VsZWN0b3IpO1xuICAgIHRoaXMuJGhhbmQgPSAkKHNlbGVjdG9yICsgXCIgLmhhbmRcIik7XG4gICAgdGhpcy4kcG9pbnRzID0gJChzZWxlY3RvciArIFwiIC5wb2ludHNcIik7XG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgdGhpcy5jYXJkcyA9IFtdO1xuICAgIHRoaXMub3V0Y29tZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIYW5kLCBbe1xuICAgIGtleTogXCJhZGRDYXJkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENhcmQoY2FyZCwgJGNhcmQpIHtcbiAgICAgIHRoaXMuY2FyZHMucHVzaChjYXJkKTtcbiAgICAgIHRoaXMuJGhhbmQuYXBwZW5kKCRjYXJkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuU3BsaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuU3BsaXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYXJkc1swXS5wb2ludCA9PT0gdGhpcy5jYXJkc1sxXS5wb2ludDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UG9pbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvaW50cygpIHtcbiAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICB2YXIgYWNlcyA9IDA7XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5jYXJkc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgY2FyZCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgdmFyIHBvaW50ID0gY2FyZC5wb2ludDtcbiAgICAgICAgICBpZiAocG9pbnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRvdGFsICs9IDEwO1xuICAgICAgICAgICAgYWNlcysrO1xuICAgICAgICAgIH0gZWxzZSBpZiAocG9pbnQgPiAxMCkge1xuICAgICAgICAgICAgcG9pbnQgPSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG90YWwgKz0gcG9pbnQ7XG4gICAgICAgICAgd2hpbGUgKHRvdGFsID4gMjEgJiYgYWNlcyA+IDApIHtcbiAgICAgICAgICAgIHRvdGFsIC09IDEwO1xuICAgICAgICAgICAgYWNlcy0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQ2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDYXJkKCkge1xuICAgICAgdmFyIGNhcmQgPSB0aGlzLmNhcmRzLnBvcCgpO1xuICAgICAgdmFyICRjYXJkID0gdGhpcy4kaGFuZC5maW5kKFwiaW1nOmxhc3QtY2hpbGRcIikucmVtb3ZlKCk7XG4gICAgICByZXR1cm4geyBjYXJkOiBjYXJkLCAkY2FyZDogJGNhcmQgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmV2ZWFsSG9sZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXZlYWxIb2xlKCkge1xuICAgICAgdGhpcy4kaGFuZC5maW5kKCdpbWc6Zmlyc3QtY2hpbGQnKS5hdHRyKCdzcmMnLCB0aGlzLmNhcmRzWzBdLmdldEltYWdlVXJsKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWVDYXJkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlZUNhcmQoaW5kZXgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhcmRzW2luZGV4IC0gMV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvZ2dsZUhpZ2hsaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVIaWdobGlnaHQoKSB7XG4gICAgICB0aGlzLnBsYXlpbmcgPyB0aGlzLiR3cmFwcGVyLmFkZENsYXNzKFwiY3VycmVudEhhbmRcIikgOiB0aGlzLiR3cmFwcGVyLnJlbW92ZUNsYXNzKFwiY3VycmVudEhhbmRcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZURpc3BsYXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGlzcGxheShjb250ZW50KSB7XG4gICAgICB0aGlzLiRwb2ludHMudGV4dChjb250ZW50KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGFuZDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSGFuZDtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBDYXJkID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYXJkKHBvaW50LCBzdWl0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcmQpO1xuXG4gICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgIHRoaXMuc3VpdCA9IHN1aXQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FyZCwgW3tcbiAgICBrZXk6IFwiZ2V0SW1hZ2VVcmxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW1hZ2VVcmwoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnBvaW50O1xuICAgICAgaWYgKHRoaXMucG9pbnQgPT09IDExKSB7XG4gICAgICAgIHZhbHVlID0gXCJqYWNrXCI7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucG9pbnQgPT09IDEyKSB7XG4gICAgICAgIHZhbHVlID0gXCJxdWVlblwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50ID09PSAxMykge1xuICAgICAgICB2YWx1ZSA9IFwia2luZ1wiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50ID09PSAxKSB7XG4gICAgICAgIHZhbHVlID0gXCJhY2VcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBcImltYWdlcy9cIiArIHZhbHVlICsgXCJfb2ZfXCIgKyB0aGlzLnN1aXQgKyBcIi5zdmdcIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FyZDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FyZDtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfZ2FtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfZ2FtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nYW1lKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGN1cnJlbnRHYW1lID0gbmV3IF9nYW1lMi5kZWZhdWx0KCk7XG5cbmN1cnJlbnRHYW1lLm1ha2VCZXQoKTtcblxuJCgnLmRlYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGN1cnJlbnRHYW1lLnJlc2V0R2FtZSgpO1xuICBjdXJyZW50R2FtZS5nYW1lRGVjay5nZW5lcmF0ZSgzKTtcbiAgY3VycmVudEdhbWUuZGVhbCgpO1xufSk7XG5cbiQoJy5oaXQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGN1cnJlbnRHYW1lLmhpdCgpO1xufSk7XG5cbiQoJy5zdGFuZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY3VycmVudEdhbWUuc3RhbmQoKTtcbn0pO1xuXG4kKCcuZG91YmxlLWRvd24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGN1cnJlbnRHYW1lLmRvdWJsZURvd24oKTtcbn0pO1xuXG4kKCcuc3BsaXQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGN1cnJlbnRHYW1lLnNwbGl0KCk7XG59KTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfaGFuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfaGFuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kKTtcblxudmFyIF9kZWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9kZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlY2spO1xuXG52YXIgX3dhbGxldCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfd2FsbGV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhbGxldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBHYW1lID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHYW1lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHYW1lKTtcblxuICAgIHRoaXMud2FsbGV0ID0gbmV3IF93YWxsZXQyLmRlZmF1bHQoKTtcbiAgICB0aGlzLmdhbWVEZWNrID0gbmV3IF9kZWNrMi5kZWZhdWx0KCk7XG4gICAgdGhpcy5kZWFsZXJIYW5kID0gbmV3IF9oYW5kMi5kZWZhdWx0KCdkZWFsZXInKTtcbiAgICB0aGlzLnBsYXllckhhbmQgPSBuZXcgX2hhbmQyLmRlZmF1bHQoJ3BsYXllcicsIDEpO1xuICAgIHRoaXMuc3BsaXRJblBsYXkgPSBmYWxzZTtcblxuICAgIHRoaXMuJHRvdGFsID0gJChcIi50b3RhbFwiKTtcbiAgICB0aGlzLiRiZXQgPSAkKFwiLmN1cnJlbnRCZXRcIik7XG4gICAgdGhpcy4kY2hhbmdlID0gJChcIi5jaGFuZ2VcIik7XG5cbiAgICB0aGlzLiRkZWFsID0gJChcIi5kZWFsXCIpO1xuICAgIHRoaXMuJGhpdCA9ICQoXCIuaGl0XCIpO1xuICAgIHRoaXMuJHN0YW5kID0gJChcIi5zdGFuZFwiKTtcbiAgICB0aGlzLiRkb3VibGVEb3duID0gJChcIi5kb3VibGUtZG93blwiKTtcbiAgICB0aGlzLiRzcGxpdCA9ICQoXCIuc3BsaXRcIik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2FtZSwgW3tcbiAgICBrZXk6IFwiYWRqdXN0U3BhY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0U3BhY2UoKSB7XG4gICAgICB2YXIgc2l6ZSA9IHZvaWQgMDtcbiAgICAgIHRoaXMuc3BsaXRJblBsYXkgPyBzaXplID0gNTAgOiBzaXplID0gMTAwO1xuICAgICAgJChcIi5wbGF5ZXJIYW5kLWRpdlwiKS5jc3MoXCJ3aWR0aFwiLCBzaXplICsgXCIlXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYWxpYnJhdGVTbGlkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsaWJyYXRlU2xpZGVyKCkge31cbiAgfSwge1xuICAgIGtleTogXCJkZWFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYWwoKSB7XG4gICAgICB0aGlzLnN0YXJ0R2FtZU1vZGUoKTtcbiAgICAgIHRoaXMuZ2FtZURlY2suc2h1ZmZsZSgpO1xuICAgICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLmRlYWxlckhhbmQsIFwiaG9sZVwiKTtcbiAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5wbGF5ZXJIYW5kKTtcbiAgICAgIHZhciBkZWFsZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMuZGVhbGVySGFuZCk7XG4gICAgICB2YXIgcGxheWVyUG9pbnRzID0gdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xuICAgICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCI/XCIpOyAvLyBjb25jZWFsIGRlYWxlciB0b3RhbFxuXG4gICAgICBpZiAoZGVhbGVyUG9pbnRzID09PSAyMSAmJiBwbGF5ZXJQb2ludHMgPT09IDIxKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIlB1c2hcIik7XG4gICAgICAgIHRoaXMuZGVhbGVySGFuZC51cGRhdGVEaXNwbGF5KFwiQmxhY2tqYWNrXCIpO1xuICAgICAgICB0aGlzLnBsYXllckhhbmQudXBkYXRlRGlzcGxheShcIkJMQUNLSkFDSywgSE9UIERBTU4hXCIpO1xuICAgICAgfSBlbHNlIGlmIChkZWFsZXJQb2ludHMgPT09IDIxKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zXCIpO1xuICAgICAgICB0aGlzLmRlYWxlckhhbmQudXBkYXRlRGlzcGxheShcIkJsYWNramFja1wiKTtcbiAgICAgICAgdGhpcy5vdXRjb21lKFwibG9zZVwiKTtcbiAgICAgIH0gZWxzZSBpZiAocGxheWVyUG9pbnRzID09PSAyMSkge1xuICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3Ugd2luIVwiKTtcbiAgICAgICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoZGVhbGVyUG9pbnRzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCJCTEFDS0pBQ0ssIEhPVCBEQU1OIVwiKTtcbiAgICAgICAgdGhpcy5vdXRjb21lKFwiYmxhY2tqYWNrXCIpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLndhbGxldC5tb25leSA+IHRoaXMud2FsbGV0LmJldCAqIDIpIHtcbiAgICAgICAgaWYgKHBsYXllclBvaW50cyA9PT0gMTEpIHtcbiAgICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLiRkb3VibGVEb3duKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJIYW5kLmNhblNwbGl0KCkpIHtcbiAgICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLiRzcGxpdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVhbE9uZUNhcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVhbE9uZUNhcmQoaGFuZCwgc3BlY2lhbCkge1xuICAgICAgdmFyIGNhcmQgPSB0aGlzLmdhbWVEZWNrLmRyYXcoKTtcbiAgICAgIHZhciAkY2FyZCA9ICQoXCI8aW1nIC8+XCIsIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcImNhcmRcIixcbiAgICAgICAgXCJzcmNcIjogXCJcIiArIGNhcmQuZ2V0SW1hZ2VVcmwoKVxuICAgICAgfSk7XG4gICAgICBpZiAoc3BlY2lhbCA9PT0gXCJob2xlXCIpIHtcbiAgICAgICAgJGNhcmQuYXR0cignc3JjJywgXCJpbWFnZXMvYmFjay1zdWl0cy1yZWQuc3ZnXCIpO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsID09PSBcImRvdWJsZS1kb3duXCIpIHtcbiAgICAgICAgJGNhcmQuYWRkQ2xhc3MoJ2NhcmQtZGQnKTtcbiAgICAgIH0gZWxzZSBpZiAoc3BlY2lhbCA9PT0gXCJzcGxpdFwiKSB7XG4gICAgICAgICRjYXJkLmFkZENsYXNzKCdzcGxpdCcpO1xuICAgICAgfVxuICAgICAgaGFuZC5hZGRDYXJkKGNhcmQsICRjYXJkKTtcbiAgICAgIGhhbmQudXBkYXRlRGlzcGxheShoYW5kLmdldFBvaW50cygpKTtcbiAgICAgIHJldHVybiBoYW5kLmdldFBvaW50cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWFsZXJUdXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYWxlclR1cm4oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLmRlYWxlckhhbmQucmV2ZWFsSG9sZSgpO1xuICAgICAgd2hpbGUgKHRoaXMuZGVhbGVySGFuZC5nZXRQb2ludHMoKSA8IDE3KSB7XG4gICAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5kZWFsZXJIYW5kKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGhhbmRzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGhhbmRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBoYW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kKSB7XG4gICAgICAgIGlmICghaGFuZC5vdXRjb21lKSB7XG4gICAgICAgICAgX3RoaXMuZXZhbHVhdGVIYW5kKGhhbmQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzYWJsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBlbGVtZW50cyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGVsZW1lbnRzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkb3VibGVEb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvdWJsZURvd24oKSB7XG4gICAgICB0aGlzLndhbGxldC5kb3VibGVCZXQoKTtcbiAgICAgIC8vIGRlYWwgdGhlIHBsYXllciBvbmUgbW9yZSBjYXJkIGFuZCB0aGVuIG1vdmUgb24gdG8gdGhlIGRlYWxlcidzIHR1cm5cbiAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5wbGF5ZXJIYW5kLCBcImRvdWJsZS1kb3duXCIpO1xuICAgICAgdGhpcy5zdGFuZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbmFibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBlbGVtZW50cyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGVsZW1lbnRzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgIGVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbmRHYW1lTW9kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmRHYW1lTW9kZSgpIHtcbiAgICAgIHRoaXMucGxheWVySGFuZC5wbGF5aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCk7XG4gICAgICB0aGlzLmRlYWxlckhhbmQucmV2ZWFsSG9sZSgpO1xuICAgICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkodGhpcy5kZWFsZXJIYW5kLmdldFBvaW50cygpKTtcblxuICAgICAgdGhpcy53YWxsZXQudXBkYXRlKCk7XG4gICAgICB0aGlzLndhbGxldC5hc3Nlc3NDaGFuZ2UoKTtcbiAgICAgICQoXCIuYmV0dGluZyAuYnV0dG9uc1wiKS5zaG93KCk7XG4gICAgICB0aGlzLmVuYWJsZSh0aGlzLiRkZWFsKTtcbiAgICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXZhbHVhdGVIYW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV2YWx1YXRlSGFuZChoYW5kKSB7XG4gICAgICB2YXIgZGVhbGVyUG9pbnRzID0gdGhpcy5kZWFsZXJIYW5kLmdldFBvaW50cygpO1xuICAgICAgdmFyIHBsYXllclBvaW50cyA9IGhhbmQuZ2V0UG9pbnRzKCk7XG4gICAgICBpZiAoZGVhbGVyUG9pbnRzID4gMjEgfHwgcGxheWVyUG9pbnRzID4gZGVhbGVyUG9pbnRzKSB7XG4gICAgICAgIGhhbmQub3V0Y29tZSA9IFwid2luXCI7XG4gICAgICB9IGVsc2UgaWYgKHBsYXllclBvaW50cyA8IGRlYWxlclBvaW50cykge1xuICAgICAgICBoYW5kLm91dGNvbWUgPSBcImxvc2VcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmQub3V0Y29tZSA9IFwicHVzaFwiO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGl0KCkge1xuICAgICAgdGhpcy5kaXNhYmxlKHRoaXMuJGRvdWJsZURvd24sIHRoaXMuJHNwbGl0KTtcbiAgICAgIGlmICghdGhpcy5zcGxpdEluUGxheSkge1xuICAgICAgICB2YXIgcGxheWVyUG9pbnRzID0gdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xuICAgICAgICBpZiAocGxheWVyUG9pbnRzID4gMjEpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3UgYnVzdFwiKTtcbiAgICAgICAgICB0aGlzLm91dGNvbWUoXCJsb3NlXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY3VycmVudEhhbmQgPSB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XG4gICAgICAgIHZhciBfcGxheWVyUG9pbnRzID0gdGhpcy5kZWFsT25lQ2FyZChjdXJyZW50SGFuZCwgXCJzcGxpdFwiKTtcbiAgICAgICAgaWYgKF9wbGF5ZXJQb2ludHMgPiAyMSkge1xuICAgICAgICAgIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllckhhbmQub3V0Y29tZSA9IFwibG9zZVwiO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySGFuZDIucGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XG4gICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kMikge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kMi5vdXRjb21lID0gXCJsb3NlXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgICAgIHRoaXMuaW52b2tlT3V0Y29tZSh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbnZva2VPdXRjb21lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGludm9rZU91dGNvbWUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGhhbmRzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgaGFuZHNbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhhbmQxID0gaGFuZHNbMF0ub3V0Y29tZTtcbiAgICAgIGlmIChoYW5kcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKGhhbmQxID09PSBcIndpblwiKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiFcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFuZDEgPT09IFwibG9zZVwiKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiRGVhbGVyIHdpbnNcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRjb21lKGhhbmQxKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFuZHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMubXVsdGlwbGVPdXRjb21lcyhoYW5kcyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1ha2VCZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUJldCgpIHtcbiAgICAgIHZhciBnYW1lID0gdGhpcztcbiAgICAgIHRoaXMud2FsbGV0LnVwZGF0ZSgpO1xuICAgICAgJChcIi5iZXQtYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9zc2libGVCZXQgPSBnYW1lLndhbGxldC5tb25leSAtIGdhbWUud2FsbGV0LmJldDtcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhZGQxMFwiKSAmJiBwb3NzaWJsZUJldCA+PSAxMCkge1xuICAgICAgICAgIGdhbWUud2FsbGV0LmJldCArPSAxMDtcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiYWRkNTBcIikgJiYgcG9zc2libGVCZXQgPj0gNTApIHtcbiAgICAgICAgICBnYW1lLndhbGxldC5iZXQgKz0gNTA7XG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDEwMFwiKSAmJiBwb3NzaWJsZUJldCA+PSAxMDApIHtcbiAgICAgICAgICBnYW1lLndhbGxldC5iZXQgKz0gMTAwO1xuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhZGQ1MDBcIikgJiYgcG9zc2libGVCZXQgPj0gNTAwKSB7XG4gICAgICAgICAgZ2FtZS53YWxsZXQuYmV0ICs9IDUwMDtcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiYWxsLWluXCIpKSB7XG4gICAgICAgICAgZ2FtZS53YWxsZXQuYmV0ID0gZ2FtZS53YWxsZXQubW9uZXk7XG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcInJlc2V0XCIpKSB7XG4gICAgICAgICAgZ2FtZS53YWxsZXQuYmV0ID0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZS4kYmV0LnRleHQoZ2FtZS53YWxsZXQuYmV0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtdWx0aXBsZU91dGNvbWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGxlT3V0Y29tZXMoaGFuZHMpIHtcbiAgICAgIHZhciBoYW5kMSA9IGhhbmRzWzBdLm91dGNvbWU7XG4gICAgICB2YXIgaGFuZDIgPSBoYW5kc1sxXS5vdXRjb21lO1xuICAgICAgaWYgKGhhbmQxID09PSBoYW5kMikge1xuICAgICAgICBpZiAoaGFuZDEgPT09IFwiYmxhY2tqYWNrXCIpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJUV08gQkxBQ0tKQUNLUyEhIVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYW5kMSA9PT0gXCJ3aW5cIikge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gYm90aCFcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFuZDEgPT09IFwibG9zZVwiKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiRGVhbGVyIHdpbnMgYm90aFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJQdXNoIGJvdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53YWxsZXQucGF5b3V0KGhhbmQxKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFuZDEgIT09IGhhbmQyKSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB2YWx1ZSBvZiBlYWNoIGhhbmQgb3V0Y29tZSBiZWZvcmUgY2FsbGluZyBwYXlvdXQgZnVuY3Rpb25cbiAgICAgICAgdmFyIGluaXRpYWxCZXQgPSB0aGlzLndhbGxldC5iZXQgLyAyO1xuICAgICAgICB2YXIgaGFuZDFWYWx1ZSA9IDA7XG4gICAgICAgIHZhciBoYW5kMlZhbHVlID0gMDtcbiAgICAgICAgaWYgKGhhbmQxID09PSBcImJsYWNramFja1wiIHx8IGhhbmQyID09PSBcImJsYWNramFja1wiKSB7XG4gICAgICAgICAgaGFuZDFWYWx1ZSA9IGluaXRpYWxCZXQgKiAxLjU7XG4gICAgICAgICAgaWYgKGhhbmQxID09PSBcIndpblwiIHx8IGhhbmQyID09PSBcIndpblwiKSB7XG4gICAgICAgICAgICBoYW5kMlZhbHVlID0gaW5pdGlhbEJldDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gYm90aCFcIik7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIgfHwgaGFuZDIgPT09IFwibG9zZVwiKSB7XG4gICAgICAgICAgICBoYW5kMlZhbHVlID0gLWluaXRpYWxCZXQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3UgYW5kIGRlYWxlciBlYWNoIHdpbiBvbmVcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gb25lLCBwdXNoXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChoYW5kMSA9PT0gXCJ3aW5cIiB8fCBoYW5kMiA9PT0gXCJ3aW5cIikge1xuICAgICAgICAgIGhhbmQxVmFsdWUgPSBpbml0aWFsQmV0O1xuICAgICAgICAgIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIgfHwgaGFuZDIgPT09IFwibG9zZVwiKSB7XG4gICAgICAgICAgICBoYW5kMlZhbHVlID0gLWluaXRpYWxCZXQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3UgYW5kIGRlYWxlciBlYWNoIHdpbiBvbmVcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gb25lLCBwdXNoXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIgfHwgaGFuZDIgPT09IFwibG9zZVwiKSB7XG4gICAgICAgICAgaGFuZDFWYWx1ZSA9IC1pbml0aWFsQmV0O1xuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zIG9uZSwgcHVzaFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhbGxldC5wYXlvdXQoXCJjdXN0b21cIiwgaGFuZDFWYWx1ZSwgaGFuZDJWYWx1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNwbGl0SW5QbGF5ID0gZmFsc2U7XG4gICAgICB0aGlzLmVuZEdhbWVNb2RlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vZGFsKG1vZGFsVHlwZSkge1xuICAgICAgaWYgKG1vZGFsVHlwZSA9PT0gXCJiYW5rcnVwdFwiKSB7XG4gICAgICAgIHZhciBnYW1lID0gdGhpcztcbiAgICAgICAgJChcIi5tb2RhbCwgLm1vZGFsLW92ZXJsYXlcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xuICAgICAgICAkKFwiLm1vZGFsLWd1dHMgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoXCIubW9kYWwsIC5tb2RhbC1vdmVybGF5XCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAkKFwiLnRpdGxlLXNjcmVlblwiKS5zaG93KCk7XG4gICAgICAgICAgZ2FtZS5yZXNldEdhbWUoKTtcbiAgICAgICAgICBnYW1lLndhbGxldC5yZXNldCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAobW9kYWxUeXBlID09PSBcImhlbHBcIikge1xuICAgICAgICAvLyBmdXR1cmUgZ2FtZSBmZWF0dXJlOiBpbnN0cnVjdGlvbnMgYXZhaWxhYmxlIGluIGhlbHAgbW9kYWxcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3V0Y29tZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvdXRjb21lKHJlc3VsdCkge1xuICAgICAgdGhpcy53YWxsZXQucGF5b3V0KHJlc3VsdCk7XG4gICAgICBpZiAocmVzdWx0ID09PSBcInB1c2hcIikge1xuICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJQdXNoXCIpO1xuICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT09IFwibG9zZVwiKSB7XG4gICAgICAgIGlmICh0aGlzLndhbGxldC5tb25leSAtIHRoaXMud2FsbGV0LmJldCA8PSAwKSB7XG4gICAgICAgICAgdGhpcy5tb2RhbChcImJhbmtydXB0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmVuZEdhbWVNb2RlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0R2FtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEdhbWUoKSB7XG4gICAgICB0aGlzLmdhbWVEZWNrID0gbmV3IF9kZWNrMi5kZWZhdWx0KCk7XG4gICAgICB0aGlzLmRlYWxlckhhbmQgPSBuZXcgX2hhbmQyLmRlZmF1bHQoXCJkZWFsZXJcIik7XG4gICAgICB0aGlzLnBsYXllckhhbmQgPSBuZXcgX2hhbmQyLmRlZmF1bHQoXCJwbGF5ZXJcIiwgMSk7XG4gICAgICAkKFwiLm1lc3NhZ2VzXCIpLmVtcHR5KCk7XG4gICAgICAkKFwiLnBsYXllci1oYW5kXCIpLmVtcHR5KCk7XG4gICAgICAkKFwiLmRlYWxlci1oYW5kXCIpLmVtcHR5KCk7XG4gICAgICAkKFwiLnBsYXllci1wb2ludHNcIikuZW1wdHkoKTtcbiAgICAgICQoXCIuZGVhbGVyLXBvaW50c1wiKS5lbXB0eSgpO1xuICAgICAgJChcIi5jaGFuZ2VcIikuZW1wdHkoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0Q3VycmVudEhhbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0Q3VycmVudEhhbmQoKSB7XG4gICAgICB2YXIgY3VycmVudEhhbmQgPSB2b2lkIDA7XG5cbiAgICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgaGFuZHMgPSBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgICBoYW5kc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IGhhbmRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIGhhbmQgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICBoYW5kLnRvZ2dsZUhpZ2hsaWdodCgpO1xuICAgICAgICAgIGlmIChoYW5kLnBsYXlpbmcpIHtcbiAgICAgICAgICAgIGN1cnJlbnRIYW5kID0gaGFuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnJlbnRIYW5kO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzcGxpdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzcGxpdCgpIHtcbiAgICAgIHRoaXMuc3BsaXRJblBsYXkgPSB0cnVlO1xuICAgICAgdGhpcy5kaXNhYmxlKHRoaXMuJHNwbGl0KTtcbiAgICAgIHRoaXMud2FsbGV0LmRvdWJsZUJldCgpO1xuXG4gICAgICAvLyBzdGFydCBhZGRpdGlvbmFsIGhhbmQgYW5kIG1vdmUgb25lIGNhcmQgZnJvbSBoYW5kIDEgdG8gaGFuZCAyXG4gICAgICB0aGlzLmFkanVzdFNwYWNlKCk7XG4gICAgICB0aGlzLnBsYXllckhhbmQyID0gbmV3IF9oYW5kMi5kZWZhdWx0KFwicGxheWVyXCIsIDIpO1xuICAgICAgdmFyIHJlbW92ZWRDYXJkID0gdGhpcy5wbGF5ZXJIYW5kLnJlbW92ZUNhcmQoKTtcbiAgICAgIHRoaXMucGxheWVySGFuZDIuYWRkQ2FyZChyZW1vdmVkQ2FyZC5jYXJkLCByZW1vdmVkQ2FyZC4kY2FyZCk7XG4gICAgICB0aGlzLmRlYWxPbmVDYXJkKHRoaXMucGxheWVySGFuZCk7XG4gICAgICB0aGlzLmRlYWxPbmVDYXJkKHRoaXMucGxheWVySGFuZDIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFuZCgpIHtcbiAgICAgIGlmICghdGhpcy5zcGxpdEluUGxheSkge1xuICAgICAgICB0aGlzLmRpc2FibGUodGhpcy4kaGl0LCB0aGlzLiRzdGFuZCwgdGhpcy4kZG91YmxlRG93biwgdGhpcy4kc3BsaXQpO1xuICAgICAgICB0aGlzLmRlYWxlclR1cm4odGhpcy5wbGF5ZXJIYW5kKTtcbiAgICAgICAgdGhpcy5pbnZva2VPdXRjb21lKHRoaXMucGxheWVySGFuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY3VycmVudEhhbmQgPSB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XG4gICAgICAgIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kMikge1xuICAgICAgICAgIHRoaXMucGxheWVySGFuZDIucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgICB0aGlzLmRlYWxlclR1cm4odGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgICB0aGlzLmludm9rZU91dGNvbWUodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdGFydEdhbWVNb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0R2FtZU1vZGUoKSB7XG4gICAgICAkKFwiLnRpdGxlLXNjcmVlblwiKS5oaWRlKCk7XG4gICAgICB0aGlzLmFkanVzdFNwYWNlKCk7XG4gICAgICB0aGlzLmVuYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kKTtcbiAgICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRkZWFsKTtcbiAgICAgICQoXCIuYmV0dGluZyAuYnV0dG9uc1wiKS5oaWRlKCk7XG4gICAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IHRydWU7XG4gICAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAkKFwiLm1lc3NhZ2VzXCIpLmFwcGVuZChcIjxoMT5cIiArIG1lc3NhZ2UgKyBcIjwvaDE+XCIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHYW1lO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHYW1lO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jYXJkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9jYXJkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhcmQpO1xuXG52YXIgX2hhbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX2hhbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFuZCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBEZWNrID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEZWNrKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWNrKTtcblxuICAgIHRoaXMuY2FyZHMgPSBbXTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEZWNrLCBbe1xuICAgIGtleTogXCJkcmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYXJkcy5wb3AoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2VuZXJhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGUobnVtRGVja3MpIHtcbiAgICAgIGlmICghbnVtRGVja3MpIHtcbiAgICAgICAgbnVtRGVja3MgPSAxO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG51bURlY2tzID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxMzsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5jYXJkcy5wdXNoKG5ldyBfY2FyZDIuZGVmYXVsdChpLCBcInNwYWRlc1wiKSk7XG4gICAgICAgICAgdGhpcy5jYXJkcy5wdXNoKG5ldyBfY2FyZDIuZGVmYXVsdChpLCBcImRpYW1vbmRzXCIpKTtcbiAgICAgICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IF9jYXJkMi5kZWZhdWx0KGksIFwiaGVhcnRzXCIpKTtcbiAgICAgICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IF9jYXJkMi5kZWZhdWx0KGksIFwiY2x1YnNcIikpO1xuICAgICAgICB9XG4gICAgICAgIG51bURlY2tzLS07XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNodWZmbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2h1ZmZsZSgpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNhcmRzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgdmFyIF9yZWYgPSBbdGhpcy5jYXJkc1tqXV07XG4gICAgICAgIHRoaXMuY2FyZHNbaV0gPSBfcmVmWzBdO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEZWNrO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEZWNrO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFdhbGxldCA9IGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gV2FsbGV0KCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXYWxsZXQpO1xuXG5cdFx0dGhpcy5tb25leSA9IDUwMDtcblx0XHR0aGlzLmJldCA9IDEwO1xuXHRcdHRoaXMuY2hhbmdlID0gXCJcIjtcblxuXHRcdHRoaXMuJHRvdGFsID0gJChcIi50b3RhbFwiKTtcblx0XHR0aGlzLiRiZXQgPSAkKFwiLmN1cnJlbnRCZXRcIik7XG5cdFx0dGhpcy4kY2hhbmdlID0gJChcIi5jaGFuZ2VcIik7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoV2FsbGV0LCBbe1xuXHRcdGtleTogXCJhc3Nlc3NDaGFuZ2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gYXNzZXNzQ2hhbmdlKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSA9IFwiXCI7XG5cdFx0XHR2YXIgc3ltYm9sID0gXCJcIjtcblx0XHRcdGlmICh0aGlzLmNoYW5nZSA+IDApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gXCJwb3NpdGl2ZVwiO1xuXHRcdFx0XHRzeW1ib2wgPSBcIitcIjtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5jaGFuZ2UgPCAwKSB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IFwibmVnYXRpdmVcIjtcblx0XHRcdFx0c3ltYm9sID0gXCItXCI7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiRjaGFuZ2UuYXBwZW5kKFwiPHNwYW4gY2xhc3M9XFxcIlwiICsgY2xhc3NOYW1lICsgXCJcXFwiPlwiICsgc3ltYm9sICsgXCIgJFwiICsgTWF0aC5hYnModGhpcy5jaGFuZ2UpICsgXCI8L3NwYW4+XCIpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkb3VibGVCZXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZG91YmxlQmV0KCkge1xuXHRcdFx0dGhpcy5tb25leSAtPSB0aGlzLmJldDtcblx0XHRcdHRoaXMuYmV0ICo9IDI7XG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwYXlvdXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcGF5b3V0KG91dGNvbWUsIGhhbmQxVmFsdWUsIGhhbmQyVmFsdWUpIHtcblx0XHRcdGlmIChvdXRjb21lID09PSBcImJsYWNramFja1wiKSB7XG5cdFx0XHRcdHRoaXMuY2hhbmdlID0gdGhpcy5iZXQgKiAxLjU7XG5cdFx0XHR9IGVsc2UgaWYgKG91dGNvbWUgPT09IFwid2luXCIpIHtcblx0XHRcdFx0dGhpcy5jaGFuZ2UgPSB0aGlzLmJldDtcblx0XHRcdH0gZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJsb3NlXCIpIHtcblx0XHRcdFx0dGhpcy5jaGFuZ2UgPSAtdGhpcy5iZXQ7XG5cdFx0XHR9IGVsc2UgaWYgKG91dGNvbWUgPT09IFwicHVzaFwiKSB7XG5cdFx0XHRcdHRoaXMuY2hhbmdlID0gMDtcblx0XHRcdH0gZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJtdWx0aXBsZVwiKSB7XG5cdFx0XHRcdHRoaXMuY2hhbmdlID0gaGFuZDFWYWx1ZSArIGhhbmQyVmFsdWU7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLm1vbmV5ICs9IHRoaXMuY2hhbmdlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJyZXNldFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcblx0XHRcdHRoaXMubW9uZXkgPSA1MDA7XG5cdFx0XHR0aGlzLmJldCA9IDEwO1xuXHRcdFx0dGhpcy5jaGFuZ2UgPSBcIlwiO1xuXHRcdFx0dGhpcy51cGRhdGUoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidXBkYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblx0XHRcdHRoaXMuJHRvdGFsLnRleHQodGhpcy5tb25leSk7XG5cdFx0XHR0aGlzLiRiZXQudGV4dCh0aGlzLmJldCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFdhbGxldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2FsbGV0O1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDZiMzIxZDgyNjM2MzI2NGY4MWIyIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4vY2FyZFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFuZCB7XHJcbiAgY29uc3RydWN0b3Iob3duZXIsIGhhbmROdW1iZXIpIHtcclxuICAgIGxldCBzZWxlY3RvcjtcclxuICAgIGlmIChvd25lciA9PT0gJ2RlYWxlcicpIHtcclxuICAgICAgc2VsZWN0b3IgPSBcIiNkZWFsZXJcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG93bmVyID09PSAncGxheWVyJykge1xyXG4gICAgICBpZiAoaGFuZE51bWJlciA9PT0gMSkge1xyXG4gICAgICAgIHNlbGVjdG9yID0gXCIjaGFuZDFcIjtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChoYW5kTnVtYmVyID09PSAyKSB7XHJcbiAgICAgICAgc2VsZWN0b3IgPSBcIiNoYW5kMlwiO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLiR3cmFwcGVyID0gJChgJHtzZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMuJGhhbmQgPSAkKGAke3NlbGVjdG9yfSAuaGFuZGApO1xyXG4gICAgdGhpcy4kcG9pbnRzID0gJChgJHtzZWxlY3Rvcn0gLnBvaW50c2ApO1xyXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmNhcmRzID0gW107XHJcbiAgICB0aGlzLm91dGNvbWU7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKGNhcmQsICRjYXJkKSB7XHJcbiAgICB0aGlzLmNhcmRzLnB1c2goY2FyZCk7XHJcbiAgICB0aGlzLiRoYW5kLmFwcGVuZCgkY2FyZCk7XHJcbiAgfVxyXG5cclxuICBjYW5TcGxpdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzWzBdLnBvaW50ID09PSB0aGlzLmNhcmRzWzFdLnBvaW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9pbnRzKCkge1xyXG4gICAgbGV0IHRvdGFsID0gMDtcclxuICAgIGxldCBhY2VzID0gMDtcclxuICAgIGZvciAobGV0IGNhcmQgb2YgdGhpcy5jYXJkcykge1xyXG4gICAgICBsZXQgcG9pbnQgPSBjYXJkLnBvaW50O1xyXG4gICAgICBpZiAocG9pbnQgPT09IDEpIHtcclxuICAgICAgICB0b3RhbCArPSAxMDtcclxuICAgICAgICBhY2VzKys7XHJcbiAgICAgIH0gXHJcbiAgICAgIGVsc2UgaWYgKHBvaW50ID4gMTApIHtcclxuICAgICAgICBwb2ludCA9IDEwO1xyXG4gICAgICB9XHJcbiAgICAgIHRvdGFsICs9IHBvaW50O1xyXG4gICAgICB3aGlsZSAodG90YWwgPiAyMSAmJiBhY2VzID4gMCkge1xyXG4gICAgICAgIHRvdGFsIC09IDEwO1xyXG4gICAgICAgIGFjZXMtLTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvdGFsO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIGxldCBjYXJkID0gdGhpcy5jYXJkcy5wb3AoKTtcclxuICAgIGxldCAkY2FyZCA9IHRoaXMuJGhhbmQuZmluZChcImltZzpsYXN0LWNoaWxkXCIpLnJlbW92ZSgpO1xyXG4gICAgcmV0dXJuIHtjYXJkLCAkY2FyZH07XHJcbiAgfVxyXG5cclxuICByZXZlYWxIb2xlKCkge1xyXG4gICAgdGhpcy4kaGFuZC5maW5kKCdpbWc6Zmlyc3QtY2hpbGQnKS5hdHRyKCdzcmMnLCB0aGlzLmNhcmRzWzBdLmdldEltYWdlVXJsKCkpO1xyXG4gIH1cclxuXHJcbiAgc2VlQ2FyZChpbmRleCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FyZHNbaW5kZXggLSAxXTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUhpZ2hsaWdodCgpIHtcclxuICAgIHRoaXMucGxheWluZyA/IHRoaXMuJHdyYXBwZXIuYWRkQ2xhc3MoXCJjdXJyZW50SGFuZFwiKSA6IHRoaXMuJHdyYXBwZXIucmVtb3ZlQ2xhc3MoXCJjdXJyZW50SGFuZFwiKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURpc3BsYXkoY29udGVudCkge1xyXG4gICAgdGhpcy4kcG9pbnRzLnRleHQoY29udGVudCk7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2NvbXBvbmVudHMvaGFuZC5qcyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHBvaW50LCBzdWl0KSB7XHJcbiAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XHJcbiAgICB0aGlzLnN1aXQgPSBzdWl0O1xyXG4gIH1cclxuXHJcbiAgZ2V0SW1hZ2VVcmwoKSB7XHJcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnBvaW50O1xyXG4gICAgaWYgKHRoaXMucG9pbnQgPT09IDExKSB7XHJcbiAgICAgIHZhbHVlID0gXCJqYWNrXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLnBvaW50ID09PSAxMikge1xyXG4gICAgICB2YWx1ZSA9IFwicXVlZW5cIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMucG9pbnQgPT09IDEzKSB7XHJcbiAgICAgIHZhbHVlID0gXCJraW5nXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLnBvaW50ID09PSAxKSB7XHJcbiAgICAgIHZhbHVlID0gXCJhY2VcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBgaW1hZ2VzLyR7dmFsdWV9X29mXyR7dGhpcy5zdWl0fS5zdmdgO1xyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJpbXBvcnQgR2FtZSBmcm9tICcuL2NvbXBvbmVudHMvZ2FtZSc7XG5cbnZhciBjdXJyZW50R2FtZSA9IG5ldyBHYW1lO1xuXG5jdXJyZW50R2FtZS5tYWtlQmV0KCk7XG5cbiQoJy5kZWFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIGN1cnJlbnRHYW1lLnJlc2V0R2FtZSgpO1xuICBjdXJyZW50R2FtZS5nYW1lRGVjay5nZW5lcmF0ZSgzKTtcbiAgY3VycmVudEdhbWUuZGVhbCgpO1xufSk7XG5cbiQoJy5oaXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgY3VycmVudEdhbWUuaGl0KCk7XG59KTtcblxuJCgnLnN0YW5kJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIGN1cnJlbnRHYW1lLnN0YW5kKCk7XG59KTtcblxuJCgnLmRvdWJsZS1kb3duJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIGN1cnJlbnRHYW1lLmRvdWJsZURvd24oKTtcbn0pO1xuXG4kKCcuc3BsaXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgY3VycmVudEdhbWUuc3BsaXQoKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvYXBwLmpzIiwiaW1wb3J0IEhhbmQgZnJvbSBcIi4vaGFuZFwiO1xyXG5pbXBvcnQgRGVjayBmcm9tIFwiLi9kZWNrXCI7XHJcbmltcG9ydCBXYWxsZXQgZnJvbSBcIi4vd2FsbGV0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMud2FsbGV0ID0gbmV3IFdhbGxldDtcclxuICAgIHRoaXMuZ2FtZURlY2sgPSBuZXcgRGVjaztcclxuICAgIHRoaXMuZGVhbGVySGFuZCA9IG5ldyBIYW5kKCdkZWFsZXInKTtcclxuICAgIHRoaXMucGxheWVySGFuZCA9IG5ldyBIYW5kKCdwbGF5ZXInLCAxKTtcclxuICAgIHRoaXMuc3BsaXRJblBsYXkgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLiR0b3RhbCA9ICQoXCIudG90YWxcIik7XHJcbiAgICB0aGlzLiRiZXQgPSAkKFwiLmN1cnJlbnRCZXRcIik7XHJcbiAgICB0aGlzLiRjaGFuZ2UgPSAkKFwiLmNoYW5nZVwiKTtcclxuICAgIFxyXG4gICAgdGhpcy4kZGVhbCA9ICQoXCIuZGVhbFwiKTtcclxuICAgIHRoaXMuJGhpdCA9ICQoXCIuaGl0XCIpO1xyXG4gICAgdGhpcy4kc3RhbmQgPSAkKFwiLnN0YW5kXCIpO1xyXG4gICAgdGhpcy4kZG91YmxlRG93biA9ICQoXCIuZG91YmxlLWRvd25cIik7XHJcbiAgICB0aGlzLiRzcGxpdCA9ICQoXCIuc3BsaXRcIik7XHJcbiAgfVxyXG5cclxuICBhZGp1c3RTcGFjZSgpIHtcclxuICAgIGxldCBzaXplO1xyXG4gICAgdGhpcy5zcGxpdEluUGxheSA/IHNpemUgPSA1MCA6IHNpemUgPSAxMDA7XHJcbiAgICAkKFwiLnBsYXllckhhbmQtZGl2XCIpLmNzcyhcIndpZHRoXCIsIGAke3NpemV9JWApO1xyXG4gIH1cclxuXHJcbiAgY2FsaWJyYXRlU2xpZGVyKCkge1xyXG5cclxuICB9XHJcblxyXG4gIGRlYWwoKSB7XHJcbiAgICB0aGlzLnN0YXJ0R2FtZU1vZGUoKTtcclxuICAgIHRoaXMuZ2FtZURlY2suc2h1ZmZsZSgpO1xyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLmRlYWxlckhhbmQsIFwiaG9sZVwiKTtcclxuICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5wbGF5ZXJIYW5kKTtcclxuICAgIGxldCBkZWFsZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMuZGVhbGVySGFuZCk7XHJcbiAgICBsZXQgcGxheWVyUG9pbnRzID0gdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCI/XCIpOyAvLyBjb25jZWFsIGRlYWxlciB0b3RhbFxyXG5cclxuICAgIGlmIChkZWFsZXJQb2ludHMgPT09IDIxICYmIHBsYXllclBvaW50cyA9PT0gMjEpIHtcclxuICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiUHVzaFwiKTtcclxuICAgICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCJCbGFja2phY2tcIik7XHJcbiAgICAgIHRoaXMucGxheWVySGFuZC51cGRhdGVEaXNwbGF5KFwiQkxBQ0tKQUNLLCBIT1QgREFNTiFcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZWFsZXJQb2ludHMgPT09IDIxKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zXCIpO1xyXG4gICAgICB0aGlzLmRlYWxlckhhbmQudXBkYXRlRGlzcGxheShcIkJsYWNramFja1wiKTtcclxuICAgICAgdGhpcy5vdXRjb21lKFwibG9zZVwiKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBsYXllclBvaW50cyA9PT0gMjEpIHtcclxuICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiFcIik7XHJcbiAgICAgIHRoaXMuZGVhbGVySGFuZC51cGRhdGVEaXNwbGF5KGRlYWxlclBvaW50cyk7XHJcbiAgICAgIHRoaXMucGxheWVySGFuZC51cGRhdGVEaXNwbGF5KFwiQkxBQ0tKQUNLLCBIT1QgREFNTiFcIik7XHJcbiAgICAgIHRoaXMub3V0Y29tZShcImJsYWNramFja1wiKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMud2FsbGV0Lm1vbmV5ID4gdGhpcy53YWxsZXQuYmV0ICogMikge1xyXG4gICAgICBpZiAocGxheWVyUG9pbnRzID09PSAxMSkgIHtcclxuICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLiRkb3VibGVEb3duKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5wbGF5ZXJIYW5kLmNhblNwbGl0KCkpIHtcclxuICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLiRzcGxpdCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlYWxPbmVDYXJkKGhhbmQsIHNwZWNpYWwpIHtcclxuICAgIGxldCBjYXJkID0gdGhpcy5nYW1lRGVjay5kcmF3KCk7XHJcbiAgICBsZXQgJGNhcmQgPSAkKFwiPGltZyAvPlwiLCB7XHJcbiAgICAgIFwiY2xhc3NcIjogXCJjYXJkXCIsIFxyXG4gICAgICBcInNyY1wiOiBgJHtjYXJkLmdldEltYWdlVXJsKCl9YFxyXG4gICAgfSk7XHJcbiAgICBpZiAoc3BlY2lhbCA9PT0gXCJob2xlXCIpIHtcclxuICAgICAgJGNhcmQuYXR0cignc3JjJywgXCJpbWFnZXMvYmFjay1zdWl0cy1yZWQuc3ZnXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc3BlY2lhbCA9PT0gXCJkb3VibGUtZG93blwiKSB7XHJcbiAgICAgICRjYXJkLmFkZENsYXNzKCdjYXJkLWRkJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzcGVjaWFsID09PSBcInNwbGl0XCIpIHtcclxuICAgICAgJGNhcmQuYWRkQ2xhc3MoJ3NwbGl0Jyk7XHJcbiAgICB9XHJcbiAgICBoYW5kLmFkZENhcmQoY2FyZCwgJGNhcmQpO1xyXG4gICAgaGFuZC51cGRhdGVEaXNwbGF5KGhhbmQuZ2V0UG9pbnRzKCkpO1xyXG4gICAgcmV0dXJuIGhhbmQuZ2V0UG9pbnRzKCk7XHJcbiAgfVxyXG5cclxuICBkZWFsZXJUdXJuKC4uLmhhbmRzKSB7XHJcbiAgICB0aGlzLmRlYWxlckhhbmQucmV2ZWFsSG9sZSgpO1xyXG4gICAgd2hpbGUgKHRoaXMuZGVhbGVySGFuZC5nZXRQb2ludHMoKSA8IDE3KSB7XHJcbiAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5kZWFsZXJIYW5kKTtcclxuICAgIH1cclxuICAgIGhhbmRzLmZvckVhY2goaGFuZCA9PiB7XHJcbiAgICAgIGlmICghaGFuZC5vdXRjb21lKSB7XHJcbiAgICAgICAgdGhpcy5ldmFsdWF0ZUhhbmQoaGFuZClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlKC4uLmVsZW1lbnRzKSB7XHJcbiAgICBmb3IgKGxldCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZG91YmxlRG93bigpIHtcclxuICAgIHRoaXMud2FsbGV0LmRvdWJsZUJldCgpO1xyXG4gICAgLy8gZGVhbCB0aGUgcGxheWVyIG9uZSBtb3JlIGNhcmQgYW5kIHRoZW4gbW92ZSBvbiB0byB0aGUgZGVhbGVyJ3MgdHVyblxyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQsIFwiZG91YmxlLWRvd25cIik7XHJcbiAgICB0aGlzLnN0YW5kKCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGUoLi4uZWxlbWVudHMpIHtcclxuICAgIGZvciAobGV0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5kR2FtZU1vZGUoKSB7XHJcbiAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgdGhpcy5kZWFsZXJIYW5kLnJldmVhbEhvbGUoKTtcclxuICAgIHRoaXMuZGVhbGVySGFuZC51cGRhdGVEaXNwbGF5KHRoaXMuZGVhbGVySGFuZC5nZXRQb2ludHMoKSk7XHJcblxyXG4gICAgdGhpcy53YWxsZXQudXBkYXRlKCk7XHJcbiAgICB0aGlzLndhbGxldC5hc3Nlc3NDaGFuZ2UoKTtcclxuICAgICQoXCIuYmV0dGluZyAuYnV0dG9uc1wiKS5zaG93KCk7XHJcbiAgICB0aGlzLmVuYWJsZSh0aGlzLiRkZWFsKTtcclxuICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kKTtcclxuICB9XHJcblxyXG4gIGV2YWx1YXRlSGFuZChoYW5kKSB7XHJcbiAgICBsZXQgZGVhbGVyUG9pbnRzID0gdGhpcy5kZWFsZXJIYW5kLmdldFBvaW50cygpO1xyXG4gICAgbGV0IHBsYXllclBvaW50cyA9IGhhbmQuZ2V0UG9pbnRzKCk7XHJcbiAgICBpZiAoZGVhbGVyUG9pbnRzID4gMjEgfHwgcGxheWVyUG9pbnRzID4gZGVhbGVyUG9pbnRzKSB7XHJcbiAgICAgIGhhbmQub3V0Y29tZSA9IFwid2luXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwbGF5ZXJQb2ludHMgPCBkZWFsZXJQb2ludHMpIHtcclxuICAgICAgaGFuZC5vdXRjb21lID0gXCJsb3NlXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaGFuZC5vdXRjb21lID0gXCJwdXNoXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoaXQoKSB7XHJcbiAgICB0aGlzLmRpc2FibGUodGhpcy4kZG91YmxlRG93biwgdGhpcy4kc3BsaXQpO1xyXG4gICAgaWYgKCF0aGlzLnNwbGl0SW5QbGF5KSB7XHJcbiAgICAgIGxldCBwbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMucGxheWVySGFuZCk7XHJcbiAgICAgIGlmIChwbGF5ZXJQb2ludHMgPiAyMSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSBidXN0XCIpO1xyXG4gICAgICAgIHRoaXMub3V0Y29tZShcImxvc2VcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgY3VycmVudEhhbmQgPSB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgIGxldCBwbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKGN1cnJlbnRIYW5kLCBcInNwbGl0XCIpO1xyXG4gICAgICBpZiAocGxheWVyUG9pbnRzID4gMjEpIHtcclxuICAgICAgICBpZiAoY3VycmVudEhhbmQgPT09IHRoaXMucGxheWVySGFuZCkge1xyXG4gICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLm91dGNvbWUgPSBcImxvc2VcIjtcclxuICAgICAgICAgIHRoaXMucGxheWVySGFuZC5wbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kMikge1xyXG4gICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kMi5vdXRjb21lID0gXCJsb3NlXCI7XHJcbiAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcclxuICAgICAgICAgIHRoaXMuaW52b2tlT3V0Y29tZSh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW52b2tlT3V0Y29tZSguLi5oYW5kcykge1xyXG4gICAgbGV0IGhhbmQxID0gaGFuZHNbMF0ub3V0Y29tZTtcclxuICAgIGlmIChoYW5kcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgaWYgKGhhbmQxID09PSBcIndpblwiKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiFcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwibG9zZVwiKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiRGVhbGVyIHdpbnNcIik7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5vdXRjb21lKGhhbmQxKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFuZHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgIHRoaXMubXVsdGlwbGVPdXRjb21lcyhoYW5kcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYWtlQmV0KCkge1xyXG4gICAgY29uc3QgZ2FtZSA9IHRoaXM7XHJcbiAgICB0aGlzLndhbGxldC51cGRhdGUoKTtcclxuICAgICQoXCIuYmV0LWJ0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBwb3NzaWJsZUJldCA9IGdhbWUud2FsbGV0Lm1vbmV5IC0gZ2FtZS53YWxsZXQuYmV0O1xyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDEwXCIpICYmIHBvc3NpYmxlQmV0ID49IDEwKSB7XHJcbiAgICAgICAgZ2FtZS53YWxsZXQuYmV0ICs9IDEwO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhZGQ1MFwiKSAmJiBwb3NzaWJsZUJldCA+PSA1MCkge1xyXG4gICAgICAgIGdhbWUud2FsbGV0LmJldCArPSA1MDtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiYWRkMTAwXCIpICYmIHBvc3NpYmxlQmV0ID49IDEwMCkge1xyXG4gICAgICAgIGdhbWUud2FsbGV0LmJldCArPSAxMDA7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDUwMFwiKSAmJiBwb3NzaWJsZUJldCA+PSA1MDApIHtcclxuICAgICAgICBnYW1lLndhbGxldC5iZXQgKz0gNTAwO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhbGwtaW5cIikpIHtcclxuICAgICAgICBnYW1lLndhbGxldC5iZXQgPSBnYW1lLndhbGxldC5tb25leTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwicmVzZXRcIikpIHtcclxuICAgICAgICBnYW1lLndhbGxldC5iZXQgPSAxMDtcclxuICAgICAgfVxyXG4gICAgICBnYW1lLiRiZXQudGV4dChnYW1lLndhbGxldC5iZXQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBtdWx0aXBsZU91dGNvbWVzKGhhbmRzKSB7XHJcbiAgICBsZXQgaGFuZDEgPSBoYW5kc1swXS5vdXRjb21lO1xyXG4gICAgbGV0IGhhbmQyID0gaGFuZHNbMV0ub3V0Y29tZTtcclxuICAgIGlmIChoYW5kMSA9PT0gaGFuZDIpIHtcclxuICAgICAgaWYgKGhhbmQxID09PSBcImJsYWNramFja1wiKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiVFdPIEJMQUNLSkFDS1MhISFcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwid2luXCIpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3Ugd2luIGJvdGghXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGhhbmQxID09PSBcImxvc2VcIikge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zIGJvdGhcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiUHVzaCBib3RoXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMud2FsbGV0LnBheW91dChoYW5kMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYW5kMSAhPT0gaGFuZDIpIHtcclxuICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlIG9mIGVhY2ggaGFuZCBvdXRjb21lIGJlZm9yZSBjYWxsaW5nIHBheW91dCBmdW5jdGlvblxyXG4gICAgICBsZXQgaW5pdGlhbEJldCA9IHRoaXMud2FsbGV0LmJldCAvIDI7XHJcbiAgICAgIGxldCBoYW5kMVZhbHVlID0gMDtcclxuICAgICAgbGV0IGhhbmQyVmFsdWUgPSAwO1xyXG4gICAgICBpZiAoaGFuZDEgPT09IFwiYmxhY2tqYWNrXCIgfHwgaGFuZDIgPT09IFwiYmxhY2tqYWNrXCIpIHtcclxuICAgICAgICBoYW5kMVZhbHVlID0gaW5pdGlhbEJldCAqIDEuNTtcclxuICAgICAgICBpZiAoaGFuZDEgPT09IFwid2luXCIgfHwgaGFuZDIgPT09IFwid2luXCIpIHtcclxuICAgICAgICAgIGhhbmQyVmFsdWUgPSBpbml0aWFsQmV0O1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiBib3RoIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwibG9zZVwiIHx8IGhhbmQyID09PSBcImxvc2VcIikge1xyXG4gICAgICAgICAgaGFuZDJWYWx1ZSA9IC1pbml0aWFsQmV0O1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IGFuZCBkZWFsZXIgZWFjaCB3aW4gb25lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gb25lLCBwdXNoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBcclxuICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwid2luXCIgfHwgaGFuZDIgPT09IFwid2luXCIpIHtcclxuICAgICAgICBoYW5kMVZhbHVlID0gaW5pdGlhbEJldDtcclxuICAgICAgICBpZiAoaGFuZDEgPT09IFwibG9zZVwiIHx8IGhhbmQyID09PSBcImxvc2VcIikge1xyXG4gICAgICAgICAgaGFuZDJWYWx1ZSA9IC1pbml0aWFsQmV0O1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IGFuZCBkZWFsZXIgZWFjaCB3aW4gb25lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gb25lLCBwdXNoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIgfHwgaGFuZDIgPT09IFwibG9zZVwiKSB7XHJcbiAgICAgICAgaGFuZDFWYWx1ZSA9IC1pbml0aWFsQmV0O1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zIG9uZSwgcHVzaFwiKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLndhbGxldC5wYXlvdXQoXCJjdXN0b21cIiwgaGFuZDFWYWx1ZSwgaGFuZDJWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNwbGl0SW5QbGF5ID0gZmFsc2U7XHJcbiAgICB0aGlzLmVuZEdhbWVNb2RlKCk7XHJcbiAgfVxyXG5cclxuICBtb2RhbChtb2RhbFR5cGUpIHtcclxuICAgIGlmIChtb2RhbFR5cGUgPT09IFwiYmFua3J1cHRcIikge1xyXG4gICAgICBjb25zdCBnYW1lID0gdGhpcztcclxuICAgICAgJChcIi5tb2RhbCwgLm1vZGFsLW92ZXJsYXlcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAkKFwiLm1vZGFsLWd1dHMgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChcIi5tb2RhbCwgLm1vZGFsLW92ZXJsYXlcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIudGl0bGUtc2NyZWVuXCIpLnNob3coKTtcclxuICAgICAgICBnYW1lLnJlc2V0R2FtZSgpO1xyXG4gICAgICAgIGdhbWUud2FsbGV0LnJlc2V0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobW9kYWxUeXBlID09PSBcImhlbHBcIikge1xyXG4gICAgICAvLyBmdXR1cmUgZ2FtZSBmZWF0dXJlOiBpbnN0cnVjdGlvbnMgYXZhaWxhYmxlIGluIGhlbHAgbW9kYWxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG91dGNvbWUocmVzdWx0KSB7XHJcbiAgICB0aGlzLndhbGxldC5wYXlvdXQocmVzdWx0KTtcclxuICAgIGlmIChyZXN1bHQgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIlB1c2hcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChyZXN1bHQgPT09IFwibG9zZVwiKSB7XHJcbiAgICAgIGlmICh0aGlzLndhbGxldC5tb25leSAtIHRoaXMud2FsbGV0LmJldCA8PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbChcImJhbmtydXB0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmVuZEdhbWVNb2RlKCk7XHJcbiAgfVxyXG5cclxuICByZXNldEdhbWUoKSB7XHJcbiAgICB0aGlzLmdhbWVEZWNrID0gbmV3IERlY2s7XHJcbiAgICB0aGlzLmRlYWxlckhhbmQgPSBuZXcgSGFuZChcImRlYWxlclwiKTtcclxuICAgIHRoaXMucGxheWVySGFuZCA9IG5ldyBIYW5kKFwicGxheWVyXCIsIDEpO1xyXG4gICAgJChcIi5tZXNzYWdlc1wiKS5lbXB0eSgpO1xyXG4gICAgJChcIi5wbGF5ZXItaGFuZFwiKS5lbXB0eSgpO1xyXG4gICAgJChcIi5kZWFsZXItaGFuZFwiKS5lbXB0eSgpO1xyXG4gICAgJChcIi5wbGF5ZXItcG9pbnRzXCIpLmVtcHR5KCk7XHJcbiAgICAkKFwiLmRlYWxlci1wb2ludHNcIikuZW1wdHkoKTtcclxuICAgICQoXCIuY2hhbmdlXCIpLmVtcHR5KCk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RDdXJyZW50SGFuZCguLi5oYW5kcykge1xyXG4gICAgbGV0IGN1cnJlbnRIYW5kO1xyXG4gICAgZm9yIChsZXQgaGFuZCBvZiBoYW5kcykge1xyXG4gICAgICBoYW5kLnRvZ2dsZUhpZ2hsaWdodCgpO1xyXG4gICAgICBpZiAoaGFuZC5wbGF5aW5nKSB7XHJcbiAgICAgICAgY3VycmVudEhhbmQgPSBoYW5kO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudEhhbmQ7XHJcbiAgfVxyXG5cclxuICBzcGxpdCgpIHtcclxuICAgIHRoaXMuc3BsaXRJblBsYXkgPSB0cnVlO1xyXG4gICAgdGhpcy5kaXNhYmxlKHRoaXMuJHNwbGl0KTtcclxuICAgIHRoaXMud2FsbGV0LmRvdWJsZUJldCgpO1xyXG5cclxuICAgIC8vIHN0YXJ0IGFkZGl0aW9uYWwgaGFuZCBhbmQgbW92ZSBvbmUgY2FyZCBmcm9tIGhhbmQgMSB0byBoYW5kIDJcclxuICAgIHRoaXMuYWRqdXN0U3BhY2UoKTtcclxuICAgIHRoaXMucGxheWVySGFuZDIgPSBuZXcgSGFuZChcInBsYXllclwiLCAyKTtcclxuICAgIGxldCByZW1vdmVkQ2FyZCA9IHRoaXMucGxheWVySGFuZC5yZW1vdmVDYXJkKCk7XHJcbiAgICB0aGlzLnBsYXllckhhbmQyLmFkZENhcmQocmVtb3ZlZENhcmQuY2FyZCwgcmVtb3ZlZENhcmQuJGNhcmQpO1xyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQyKTtcclxuICB9XHJcblxyXG4gIHN0YW5kKCkge1xyXG4gICAgaWYgKCF0aGlzLnNwbGl0SW5QbGF5KSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kLCB0aGlzLiRkb3VibGVEb3duLCB0aGlzLiRzcGxpdCk7XHJcbiAgICAgIHRoaXMuZGVhbGVyVHVybih0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgICB0aGlzLmludm9rZU91dGNvbWUodGhpcy5wbGF5ZXJIYW5kKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgY3VycmVudEhhbmQgPSB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcclxuICAgICAgfSBcclxuICAgICAgZWxzZSBpZiAoY3VycmVudEhhbmQgPT09IHRoaXMucGxheWVySGFuZDIpIHtcclxuICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgICAgdGhpcy5kZWFsZXJUdXJuKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgICAgdGhpcy5pbnZva2VPdXRjb21lKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0R2FtZU1vZGUoKSB7XHJcbiAgICAkKFwiLnRpdGxlLXNjcmVlblwiKS5oaWRlKCk7XHJcbiAgICB0aGlzLmFkanVzdFNwYWNlKCk7XHJcbiAgICB0aGlzLmVuYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kKTtcclxuICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRkZWFsKTtcclxuICAgICQoXCIuYmV0dGluZyAuYnV0dG9uc1wiKS5oaWRlKCk7XHJcbiAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IHRydWU7XHJcbiAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCk7ICBcclxuICB9XHJcblxyXG4gIHVwZGF0ZU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgJChcIi5tZXNzYWdlc1wiKS5hcHBlbmQoYDxoMT4ke21lc3NhZ2V9PC9oMT5gKTtcclxuICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvY29tcG9uZW50cy9nYW1lLmpzIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4vY2FyZFwiO1xyXG5pbXBvcnQgSGFuZCBmcm9tIFwiLi9oYW5kXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWNrIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY2FyZHMgPSBbXTtcclxuICB9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYXJkcy5wb3AoKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlKG51bURlY2tzKSB7XHJcbiAgICBpZiAoIW51bURlY2tzKSB7XHJcbiAgICAgIG51bURlY2tzID0gMTtcclxuICAgIH1cclxuICAgIHdoaWxlIChudW1EZWNrcyA+IDApIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTM7IGkrKykge1xyXG4gICAgICAgIHRoaXMuY2FyZHMucHVzaChuZXcgQ2FyZChpLCBcInNwYWRlc1wiKSk7XHJcbiAgICAgICAgdGhpcy5jYXJkcy5wdXNoKG5ldyBDYXJkKGksIFwiZGlhbW9uZHNcIikpO1xyXG4gICAgICAgIHRoaXMuY2FyZHMucHVzaChuZXcgQ2FyZChpLCBcImhlYXJ0c1wiKSk7XHJcbiAgICAgICAgdGhpcy5jYXJkcy5wdXNoKG5ldyBDYXJkKGksIFwiY2x1YnNcIikpO1xyXG4gICAgICB9XHJcbiAgICAgIG51bURlY2tzLS07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHVmZmxlKCkge1xyXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuY2FyZHMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XHJcbiAgICAgIFt0aGlzLmNhcmRzW2ldXSA9IFt0aGlzLmNhcmRzW2pdXTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvY29tcG9uZW50cy9kZWNrLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2FsbGV0IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMubW9uZXkgPSA1MDA7XHJcblx0XHR0aGlzLmJldCA9IDEwO1xyXG5cdFx0dGhpcy5jaGFuZ2UgPSBcIlwiO1xyXG5cclxuXHRcdHRoaXMuJHRvdGFsID0gJChcIi50b3RhbFwiKTtcclxuXHRcdHRoaXMuJGJldCA9ICQoXCIuY3VycmVudEJldFwiKTtcclxuXHRcdHRoaXMuJGNoYW5nZSA9ICQoXCIuY2hhbmdlXCIpO1xyXG5cdH1cclxuXHJcblx0YXNzZXNzQ2hhbmdlKCkge1xyXG5cdFx0bGV0IGNsYXNzTmFtZSA9IFwiXCI7XHJcblx0XHRsZXQgc3ltYm9sID0gXCJcIjtcclxuXHRcdGlmICh0aGlzLmNoYW5nZSA+IDApIHtcclxuXHRcdFx0Y2xhc3NOYW1lID0gXCJwb3NpdGl2ZVwiO1xyXG5cdFx0XHRzeW1ib2wgPSBcIitcIjtcclxuXHRcdH0gZWxzZSBpZiAodGhpcy5jaGFuZ2UgPCAwKSB7XHJcblx0XHRcdGNsYXNzTmFtZSA9IFwibmVnYXRpdmVcIjtcclxuXHRcdFx0c3ltYm9sID0gXCItXCI7XHJcblx0XHR9XHJcblx0XHR0aGlzLiRjaGFuZ2UuYXBwZW5kKGA8c3BhbiBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPiR7c3ltYm9sfSAkJHtNYXRoLmFicyh0aGlzLmNoYW5nZSl9PC9zcGFuPmApO1xyXG5cdH1cclxuXHRcclxuXHRkb3VibGVCZXQoKSB7XHJcblx0XHR0aGlzLm1vbmV5IC09IHRoaXMuYmV0O1xyXG5cdFx0dGhpcy5iZXQgKj0gMjtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblx0fVxyXG5cclxuXHRwYXlvdXQob3V0Y29tZSwgaGFuZDFWYWx1ZSwgaGFuZDJWYWx1ZSkge1xyXG5cdFx0aWYgKG91dGNvbWUgPT09IFwiYmxhY2tqYWNrXCIpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2UgPSB0aGlzLmJldCAqIDEuNTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKG91dGNvbWUgPT09IFwid2luXCIpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2UgPSB0aGlzLmJldDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKG91dGNvbWUgPT09IFwibG9zZVwiKSB7XHJcblx0XHRcdHRoaXMuY2hhbmdlID0gLXRoaXMuYmV0O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJwdXNoXCIpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2UgPSAwO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJtdWx0aXBsZVwiKSB7XHJcblx0XHRcdHRoaXMuY2hhbmdlID0gaGFuZDFWYWx1ZSArIGhhbmQyVmFsdWU7XHJcblx0XHR9XHJcblx0XHR0aGlzLm1vbmV5ICs9IHRoaXMuY2hhbmdlO1xyXG5cdH1cclxuXHJcblx0cmVzZXQoKSB7XHJcblx0XHR0aGlzLm1vbmV5ID0gNTAwO1xyXG5cdFx0dGhpcy5iZXQgPSAxMDtcclxuXHRcdHRoaXMuY2hhbmdlID0gXCJcIjtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGUoKSB7XHJcblx0XHR0aGlzLiR0b3RhbC50ZXh0KHRoaXMubW9uZXkpO1xyXG5cdFx0dGhpcy4kYmV0LnRleHQodGhpcy5iZXQpO1xyXG5cdH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9jb21wb25lbnRzL3dhbGxldC5qcyJdLCJzb3VyY2VSb290IjoiIn0=