!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=n(1),s=(function(t){t&&t.__esModule}(r),function(){function t(e,n){a(this,t);var i=void 0;"dealer"===e?i="#dealer":"player"===e&&(1===n?i="#hand1":2===n&&(i="#hand2")),this.$wrapper=$(""+i),this.$hand=$(i+" .hand"),this.$points=$(i+" .points"),this.playing=!1,this.cards=[],this.outcome}return i(t,[{key:"addCard",value:function(t,e){this.cards.push(t),this.$hand.append(e)}},{key:"canSplit",value:function(){return this.cards[0].point===this.cards[1].point}},{key:"getPoints",value:function(){var t=0,e=0,n=!0,a=!1,i=void 0;try{for(var r,s=this.cards[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value,o=l.point;for(1===o?(t+=10,e++):o>10&&(o=10),t+=o;t>21&&e>0;)t-=10,e--}}catch(t){a=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return t}},{key:"removeCard",value:function(){return{card:this.cards.pop(),$card:this.$hand.find("img:last-child").remove()}}},{key:"revealHole",value:function(){this.$hand.find("img:first-child").attr("src",this.cards[0].getImageUrl())}},{key:"seeCard",value:function(t){return this.cards[t-1]}},{key:"toggleHighlight",value:function(){this.playing?this.$wrapper.addClass("currentHand"):this.$wrapper.removeClass("currentHand")}},{key:"updateDisplay",value:function(t){this.$points.text(t)}}]),t}());e.default=s},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(e,n){a(this,t),this.point=e,this.suit=n}return i(t,[{key:"getImageUrl",value:function(){var t=this.point;return 11===this.point?t="jack":12===this.point?t="queen":13===this.point?t="king":1===this.point&&(t="ace"),"images/"+t+"_of_"+this.suit+".svg"}}]),t}();e.default=r},function(t,e,n){"use strict";n(3),n(7)},function(t,e,n){"use strict";var a=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(a),r=new i.default;r.makeBet(),$(".deal").on("click",function(){r.resetGame(),r.gameDeck.generate(3),r.deal()}),$(".hit").on("click",function(){r.hit()}),$(".stand").on("click",function(){r.stand()}),$(".double-down").on("click",function(){r.doubleDown()}),$(".split").on("click",function(){r.split()})},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=n(0),l=a(s),o=n(5),d=a(o),h=n(6),c=a(h),u=function(){function t(){i(this,t),this.wallet=new c.default,this.gameDeck=new d.default,this.dealerHand=new l.default("dealer"),this.playerHand=new l.default("player",1),this.splitInPlay=!1,this.$total=$(".total"),this.$bet=$(".currentBet"),this.$change=$(".change"),this.$deal=$(".deal"),this.$hit=$(".hit"),this.$stand=$(".stand"),this.$doubleDown=$(".double-down"),this.$split=$(".split")}return r(t,[{key:"adjustSpace",value:function(){var t=void 0;t=this.splitInPlay?50:100,$(".playerHand-div").css("width",t+"%")}},{key:"calibrateSlider",value:function(){}},{key:"deal",value:function(){this.startGameMode(),this.gameDeck.shuffle(),this.dealOneCard(this.dealerHand,"hole"),this.dealOneCard(this.playerHand);var t=this.dealOneCard(this.dealerHand),e=this.dealOneCard(this.playerHand);this.dealerHand.updateDisplay("?"),21===t&&21===e?(this.updateMessage("Push"),this.dealerHand.updateDisplay("Blackjack"),this.playerHand.updateDisplay("BLACKJACK, HOT DAMN!")):21===t?(this.updateMessage("Dealer wins"),this.dealerHand.updateDisplay("Blackjack"),this.outcome("lose")):21===e?(this.updateMessage("You win!"),this.dealerHand.updateDisplay(t),this.playerHand.updateDisplay("BLACKJACK, HOT DAMN!"),this.outcome("blackjack")):this.wallet.money>2*this.wallet.bet&&(11===e&&this.enable(this.$doubleDown),this.playerHand.canSplit()&&this.enable(this.$split))}},{key:"dealOneCard",value:function(t,e){var n=this.gameDeck.draw(),a=$("<img />",{class:"card",src:""+n.getImageUrl()});return"hole"===e?a.attr("src","images/back-suits-red.svg"):"double-down"===e?a.addClass("card-dd"):"split"===e&&a.addClass("split"),t.addCard(n,a),t.updateDisplay(t.getPoints()),t.getPoints()}},{key:"dealerTurn",value:function(){var t=this;for(this.dealerHand.revealHole();this.dealerHand.getPoints()<17;)this.dealOneCard(this.dealerHand);for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];n.forEach(function(e){e.outcome||t.evaluateHand(e)})}},{key:"disable",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=!0,i=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.attr("disabled",!0)}}catch(t){i=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw r}}}},{key:"doubleDown",value:function(){this.wallet.doubleBet(),this.dealOneCard(this.playerHand,"double-down"),this.stand()}},{key:"enable",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=!0,i=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.attr("disabled",!1)}}catch(t){i=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw r}}}},{key:"endGameMode",value:function(){this.playerHand.playing=!1,this.selectCurrentHand(this.playerHand),this.dealerHand.revealHole(),this.dealerHand.updateDisplay(this.dealerHand.getPoints()),this.wallet.update(),this.wallet.assessChange(),$(".betting .buttons").show(),this.enable(this.$deal),this.disable(this.$hit,this.$stand)}},{key:"evaluateHand",value:function(t){var e=this.dealerHand.getPoints(),n=t.getPoints();t.outcome=e>21||n>e?"win":n<e?"lose":"push"}},{key:"hit",value:function(){if(this.disable(this.$doubleDown,this.$split),this.splitInPlay){var t=this.selectCurrentHand(this.playerHand,this.playerHand2);this.dealOneCard(t,"split")>21&&(t===this.playerHand?(this.playerHand.outcome="lose",this.playerHand.playing=!1,this.playerHand2.playing=!0,this.selectCurrentHand(this.playerHand,this.playerHand2)):t===this.playerHand2&&(this.playerHand2.outcome="lose",this.playerHand2.playing=!1,this.selectCurrentHand(this.playerHand,this.playerHand2),this.invokeOutcome(this.playerHand,this.playerHand2)))}else{this.dealOneCard(this.playerHand)>21&&(this.updateMessage("You bust"),this.outcome("lose"))}}},{key:"invokeOutcome",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0].outcome;1===e.length?("win"===a?this.updateMessage("You win!"):"lose"===a&&this.updateMessage("Dealer wins"),this.outcome(a)):2===e.length&&this.multipleOutcomes(e)}},{key:"makeBet",value:function(){var t=this;this.wallet.update(),$(".bet-btn").on("click",function(){var e=t.wallet.money-t.wallet.bet;$(this).hasClass("add10")&&e>=10?t.wallet.bet+=10:$(this).hasClass("add50")&&e>=50?t.wallet.bet+=50:$(this).hasClass("add100")&&e>=100?t.wallet.bet+=100:$(this).hasClass("add500")&&e>=500?t.wallet.bet+=500:$(this).hasClass("all-in")?t.wallet.bet=t.wallet.money:$(this).hasClass("reset")&&(t.wallet.bet=10),t.$bet.text(t.wallet.bet)})}},{key:"multipleOutcomes",value:function(t){var e=t[0].outcome,n=t[1].outcome;if(e===n)"blackjack"===e?this.updateMessage("TWO BLACKJACKS!!!"):"win"===e?this.updateMessage("You win both!"):"lose"===e?this.updateMessage("Dealer wins both"):this.updateMessage("Push both"),this.wallet.payout(e);else if(e!==n){var a=this.wallet.bet/2,i=0,r=0;"blackjack"===e||"blackjack"===n?(i=1.5*a,"win"===e||"win"===n?(r=a,this.updateMessage("You win both!")):"lose"===e||"lose"===n?(r=-a,this.updateMessage("You and dealer each win one")):this.updateMessage("You win one, push")):"win"===e||"win"===n?(i=a,"lose"===e||"lose"===n?(r=-a,this.updateMessage("You and dealer each win one")):this.updateMessage("You win one, push")):"lose"!==e&&"lose"!==n||(i=-a,this.updateMessage("Dealer wins one, push")),this.wallet.payout("custom",i,r)}this.splitInPlay=!1,this.endGameMode()}},{key:"modal",value:function(t){if("bankrupt"===t){var e=this;$(".modal, .modal-overlay").removeClass("hide"),$(".modal-guts button").on("click",function(){$(".modal, .modal-overlay").addClass("hide"),$(".title-screen").show(),e.resetGame(),e.wallet.reset()})}}},{key:"outcome",value:function(t){this.wallet.payout(t),"push"===t?this.updateMessage("Push"):"lose"===t&&this.wallet.money-this.wallet.bet<=0&&this.modal("bankrupt"),this.endGameMode()}},{key:"resetGame",value:function(){this.gameDeck=new d.default,this.dealerHand=new l.default("dealer"),this.playerHand=new l.default("player",1),$(".messages").empty(),$(".player-hand").empty(),$(".dealer-hand").empty(),$(".player-points").empty(),$(".dealer-points").empty(),$(".change").empty()}},{key:"selectCurrentHand",value:function(){for(var t=void 0,e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=!0,r=!1,s=void 0;try{for(var l,o=n[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var d=l.value;d.toggleHighlight(),d.playing&&(t=d)}}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return t}},{key:"split",value:function(){this.splitInPlay=!0,this.disable(this.$split),this.wallet.doubleBet(),this.adjustSpace(),this.playerHand2=new l.default("player",2);var t=this.playerHand.removeCard();this.playerHand2.addCard(t.card,t.$card),this.dealOneCard(this.playerHand),this.dealOneCard(this.playerHand2)}},{key:"stand",value:function(){if(this.splitInPlay){var t=this.selectCurrentHand(this.playerHand,this.playerHand2);t===this.playerHand?(this.playerHand.playing=!1,this.playerHand2.playing=!0,this.selectCurrentHand(this.playerHand,this.playerHand2)):t===this.playerHand2&&(this.playerHand2.playing=!1,this.selectCurrentHand(this.playerHand,this.playerHand2),this.dealerTurn(this.playerHand,this.playerHand2),this.invokeOutcome(this.playerHand,this.playerHand2))}else this.disable(this.$hit,this.$stand,this.$doubleDown,this.$split),this.dealerTurn(this.playerHand),this.invokeOutcome(this.playerHand)}},{key:"startGameMode",value:function(){$(".title-screen").hide(),this.adjustSpace(),this.enable(this.$hit,this.$stand),this.disable(this.$deal),$(".betting .buttons").hide(),this.playerHand.playing=!0,this.selectCurrentHand(this.playerHand)}},{key:"updateMessage",value:function(t){$(".messages").append("<h1>"+t+"</h1>")}}]),t}();e.default=u},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=n(1),l=a(s),o=n(0),d=(a(o),function(){function t(){i(this,t),this.cards=[]}return r(t,[{key:"draw",value:function(){return this.cards.pop()}},{key:"generate",value:function(t){for(t||(t=1);t>0;){for(var e=1;e<=13;e++)this.cards.push(new l.default(e,"spades")),this.cards.push(new l.default(e,"diamonds")),this.cards.push(new l.default(e,"hearts")),this.cards.push(new l.default(e,"clubs"));t--}}},{key:"shuffle",value:function(){for(var t=this.cards.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),n=[this.cards[e]];this.cards[t]=n[0]}}}]),t}());e.default=d},function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){a(this,t),this.money=500,this.bet=10,this.change="",this.$total=$(".total"),this.$bet=$(".currentBet"),this.$change=$(".change")}return i(t,[{key:"assessChange",value:function(){var t="",e="";this.change>0?(t="positive",e="+"):this.change<0&&(t="negative",e="-"),this.$change.append('<span class="'+t+'">'+e+" $"+Math.abs(this.change)+"</span>")}},{key:"doubleBet",value:function(){this.money-=this.bet,this.bet*=2,this.update()}},{key:"payout",value:function(t,e,n){"blackjack"===t?this.change=1.5*this.bet:"win"===t?this.change=this.bet:"lose"===t?this.change=-this.bet:"push"===t?this.change=0:"multiple"===t&&(this.change=e+n),this.money+=this.change}},{key:"reset",value:function(){this.money=500,this.bet=10,this.change="",this.update()}},{key:"update",value:function(){this.$total.text(this.money),this.$bet.text(this.bet)}}]),t}();e.default=r},function(t,e,n){var a=n(8);"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0};i.transform=void 0;n(10)(a,i);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(9)(void 0),e.push([t.i,'*{box-sizing:border-box}body,html{height:100%;font-size:80%}body{margin:0;min-height:550px;background-color:#8c0002;font-family:Ek Mukta,sans-serif;font-weight:300;font-size:1rem;color:#fcfee5}main{height:100%;text-align:center}h1,h2,h3,h4,h5,h6{margin:0;font-weight:300}h1{margin:10px 0}table{margin-bottom:10px;width:100%;border-collapse:collapse;text-align:center}td{width:50%;height:1.5rem}button{display:inline-block;padding:5px;width:49%;font-family:Ek Mukta,sans-serif;font-size:1rem;font-weight:300;background:#fcfee5;color:#060605;border:4px solid #ba7619;outline:none}button:hover{cursor:pointer;text-decoration:underline}button:active{outline:none}button[disabled],button[disabled]:hover{border:4px solid #8c0002;color:transparent;text-shadow:0 0 5px rgba(6,6,5,.5);cursor:default;text-decoration:none;position:relative}button[disabled]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#060605;opacity:.3}.fl{float:left}.fr{float:right}.cf:after{content:"";display:block;clear:both}.positive{color:#2ff31c}.negative{color:#fb0007}.container{margin:0 auto;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;justify-content:space-around}.messages{height:66px;display:flex;align-items:center;justify-content:center}.table{position:relative}.title-screen{position:absolute;width:100%;z-index:1;text-align:center}.title-screen h1{font-size:5rem}.title-screen .instructions{width:50%;float:left}.dealer,.player{width:100%;height:160px}.dealerHand-div,.playerHand-div{width:100%;text-align:center;position:relative;float:left}.dealer-hand,.player-hand{margin:0 auto;position:relative;height:110px;width:70%}.currentHand:after{content:"";top:0;left:0;width:100%;opacity:.15;border-radius:10px;background:#fff}.card,.currentHand:after{position:absolute;height:100%}.card{right:-50%}.card-dd{transform:rotate(45deg);left:40px!important}.card:first-child{left:0}.card:nth-child(2){left:40px}.card:nth-child(3){left:80px}.card:nth-child(4){left:120px}.card:nth-child(5){left:160px}.card:nth-child(6){left:200px}.card:nth-child(7){left:240px}.card:nth-child(8){left:280px}.card:nth-child(9){left:320px}.card.split{left:0}.card.split:nth-child(2){left:10px}.card.split:nth-child(3){left:20px}.card.split:nth-child(4){left:30px}.card.split:nth-child(5){left:40px}.card.split:nth-child(6){left:50px}.card.split:nth-child(7){left:60px}.card.split:nth-child(8){left:70px}.card.split:nth-child(9){left:80px}.action-wrap{margin:0 auto;width:95%}.betting,.game-actions{width:50%;float:left}.actions .container,.money .container{margin:0 auto;max-width:400px;width:80%}.deal{margin:0 auto;display:block;width:100%}.row{margin-bottom:5px;position:relative}.money h3{display:inline-block}.modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);max-width:500px;max-height:500px;height:90%;width:90%;z-index:2}.modal-guts{background:#fcfee5;color:#060605;overflow:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}.modal-guts,.modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%}.modal-overlay{background:#060605;z-index:1;opacity:.5}.hide{display:none}@media screen and (min-width:480px){html{font-size:100%}body{min-height:600px!important}.action-wrap,.container{width:90%}.dealer-hand,.player-hand{height:150px;width:50%}}@media screen and (min-width:768px){html{font-size:125%}body{min-height:700px}.dealer,.player{height:200px;width:50%;float:left;display:flex;align-items:center}.dealer-hand,.player-hand{height:200px;width:90%}.action-wrap{margin:0 auto;width:80%}}@media screen and (min-width:960px){.container{width:80%}.dealer-hand,.player-hand{height:200px;width:80%}}@media screen and (min-width:1200px){body{min-height:950px}.container{width:70%}.dealer,.player{height:260px}.dealer-hand,.player-hand{height:250px;width:80%}.card-dd{left:50px!important}.card:first-child{left:0}.card:nth-child(2){left:50px}.card:nth-child(3){left:100px}.card:nth-child(4){left:150px}.card:nth-child(5){left:200px}.card:nth-child(6){left:250px}.card:nth-child(7){left:300px}.card:nth-child(8){left:350px}.card:nth-child(9){left:400px}}@media screen and (min-width:1600px){html{font-size:150%}button{padding:15px}.container{max-width:1400px}.messages{height:75px}.dealer-hand,.player-hand{height:300px;width:60%}.card-dd{left:70px!important}.card:first-child{left:0}.card:nth-child(2){left:70px}.card:nth-child(3){left:140px}.card:nth-child(4){left:210px}.card:nth-child(5){left:280px}.card:nth-child(6){left:350px}.card:nth-child(7){left:420px}.card:nth-child(8){left:490px}.card:nth-child(9){left:560px}.action-wrap{width:70%}}',""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=a(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([r]).join("\n")}return[n].join("\n")}function a(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=n(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(a[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&a[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function a(t,e){for(var n=0;n<t.length;n++){var a=t[n],i=f[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(h(a.parts[r],e))}else{for(var s=[],r=0;r<a.parts.length;r++)s.push(h(a.parts[r],e));f[a.id]={id:a.id,refs:1,parts:s}}}}function i(t,e){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],s=e.base?r[0]+e.base:r[0],l=r[1],o=r[2],d=r[3],h={css:l,media:o,sourceMap:d};a[s]?a[s].parts.push(h):n.push(a[s]={id:s,parts:[h]})}return n}function r(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=m[m.length-1];if("top"===t.insertAt)a?a.nextSibling?n.insertBefore(e,a.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=v(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function l(t){var e=document.createElement("style");return t.attrs.type="text/css",d(e,t.attrs),r(t,e),e}function o(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",d(e,t.attrs),r(t,e),e}function d(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,a,i,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var d=b++;n=g||(g=l(e)),a=c.bind(null,n,d,!1),i=c.bind(null,n,d,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=o(e),a=p.bind(null,n,e),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(e),a=u.bind(null,n),i=function(){s(n)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else i()}}function c(t,e,n,a){var i=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function u(t,e){var n=e.css,a=e.media;if(a&&t.setAttribute("media",a),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var a=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(a=w(a)),i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([a],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}var f={},y=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){if(void 0===e[n]){var a=t.call(this,n);if(a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[n]=a}return e[n]}}(function(t){return document.querySelector(t)}),g=null,b=0,m=[],w=n(11);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=y()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return a(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var l=n[s],o=f[l.id];o.refs--,r.push(o)}if(t){a(i(t,e),e)}for(var s=0;s<r.length;s++){var o=r[s];if(0===o.refs){for(var d=0;d<o.parts.length;d++)o.parts[d]();delete f[o.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,a=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var r;return r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:a+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwZjAzODY0MTExYWJiNzZmZjk5MiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9oYW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvZ2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9kZWNrLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL3dhbGxldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nzcy9tYWluLnNjc3M/Y2E3MiIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nzcy9tYWluLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwidmFsdWUiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY2FyZCIsIkhhbmQiLCJvYmoiLCJvd25lciIsImhhbmROdW1iZXIiLCJ0aGlzIiwic2VsZWN0b3IiLCIkd3JhcHBlciIsIiQiLCIkaGFuZCIsIiRwb2ludHMiLCJwbGF5aW5nIiwiY2FyZHMiLCJvdXRjb21lIiwiY2FyZCIsIiRjYXJkIiwicHVzaCIsImFwcGVuZCIsInBvaW50IiwidG90YWwiLCJhY2VzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJlcnIiLCJyZXR1cm4iLCJwb3AiLCJmaW5kIiwicmVtb3ZlIiwiYXR0ciIsImdldEltYWdlVXJsIiwiaW5kZXgiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiY29udGVudCIsInRleHQiLCJkZWZhdWx0IiwiQ2FyZCIsInN1aXQiLCJfZ2FtZSIsIl9nYW1lMiIsImN1cnJlbnRHYW1lIiwibWFrZUJldCIsIm9uIiwicmVzZXRHYW1lIiwiZ2FtZURlY2siLCJnZW5lcmF0ZSIsImRlYWwiLCJoaXQiLCJzdGFuZCIsImRvdWJsZURvd24iLCJzcGxpdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaGFuZCIsIl9oYW5kMiIsIl9kZWNrIiwiX2RlY2syIiwiX3dhbGxldCIsIl93YWxsZXQyIiwiR2FtZSIsIndhbGxldCIsImRlYWxlckhhbmQiLCJwbGF5ZXJIYW5kIiwic3BsaXRJblBsYXkiLCIkdG90YWwiLCIkYmV0IiwiJGNoYW5nZSIsIiRkZWFsIiwiJGhpdCIsIiRzdGFuZCIsIiRkb3VibGVEb3duIiwiJHNwbGl0Iiwic2l6ZSIsImNzcyIsInN0YXJ0R2FtZU1vZGUiLCJzaHVmZmxlIiwiZGVhbE9uZUNhcmQiLCJkZWFsZXJQb2ludHMiLCJwbGF5ZXJQb2ludHMiLCJ1cGRhdGVEaXNwbGF5IiwidXBkYXRlTWVzc2FnZSIsIm1vbmV5IiwiYmV0IiwiZW5hYmxlIiwiY2FuU3BsaXQiLCJoYW5kIiwic3BlY2lhbCIsImRyYXciLCJjbGFzcyIsInNyYyIsImFkZENhcmQiLCJnZXRQb2ludHMiLCJfdGhpcyIsInJldmVhbEhvbGUiLCJfbGVuIiwiYXJndW1lbnRzIiwiaGFuZHMiLCJBcnJheSIsIl9rZXkiLCJmb3JFYWNoIiwiZXZhbHVhdGVIYW5kIiwiX2xlbjIiLCJlbGVtZW50cyIsIl9rZXkyIiwiZG91YmxlQmV0IiwiX2xlbjMiLCJfa2V5MyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInNlbGVjdEN1cnJlbnRIYW5kIiwidXBkYXRlIiwiYXNzZXNzQ2hhbmdlIiwic2hvdyIsImRpc2FibGUiLCJjdXJyZW50SGFuZCIsInBsYXllckhhbmQyIiwiaW52b2tlT3V0Y29tZSIsIl9sZW40IiwiX2tleTQiLCJoYW5kMSIsIm11bHRpcGxlT3V0Y29tZXMiLCJnYW1lIiwicG9zc2libGVCZXQiLCJoYXNDbGFzcyIsImhhbmQyIiwicGF5b3V0IiwiaW5pdGlhbEJldCIsImhhbmQxVmFsdWUiLCJoYW5kMlZhbHVlIiwiZW5kR2FtZU1vZGUiLCJtb2RhbFR5cGUiLCJyZXNldCIsInJlc3VsdCIsIm1vZGFsIiwiZW1wdHkiLCJfbGVuNSIsIl9rZXk1IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwidG9nZ2xlSGlnaGxpZ2h0IiwiYWRqdXN0U3BhY2UiLCJyZW1vdmVkQ2FyZCIsInJlbW92ZUNhcmQiLCJkZWFsZXJUdXJuIiwiaGlkZSIsIm1lc3NhZ2UiLCJfY2FyZDIiLCJEZWNrIiwibnVtRGVja3MiLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX3JlZiIsIldhbGxldCIsImNoYW5nZSIsImNsYXNzTmFtZSIsInN5bWJvbCIsImFicyIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJsb2NhbHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwiaXRlbSIsInVzZVNvdXJjZU1hcCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInRvQ29tbWVudCIsImNvbmNhdCIsInNvdXJjZXMiLCJtYXAiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwiam9pbiIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImxpc3QiLCJ0b1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaWQiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwic3R5bGVzSW5Eb20iLCJyZWZzIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJtZWRpYSIsInBhcnQiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImdldEVsZW1lbnQiLCJpbnNlcnRJbnRvIiwiRXJyb3IiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsImFkZEF0dHJzIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJsaW5rIiwicmVsIiwiZWwiLCJrZXlzIiwic2V0QXR0cmlidXRlIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJ1cGRhdGVMaW5rIiwiaHJlZiIsImFwcGx5VG9UYWciLCJuZXdPYmoiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiZml4VXJscyIsImJsb2IiLCJvbGRTcmMiLCJpc09sZElFIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJ3aW5kb3ciLCJhbGwiLCJhdG9iIiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwicXVlcnlTZWxlY3RvciIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsIm5ld1VybCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdB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LEdBQUEsbUJBQUFoQixnQkFBQWdCLFFBRUEsS0FBQUEsRUFDQSxTQUFBdkUsT0FBQSxtQ0FJQSxLQUFBdkksR0FBQSxnQkFBQUEsR0FDQSxNQUFBQSxFQUdBLElBQUErTSxHQUFBRCxFQUFBRSxTQUFBLEtBQUFGLEVBQUFHLEtBQ0FDLEVBQUFILEVBQUFELEVBQUFLLFNBQUFDLFFBQUEsZ0JBMkRBLE9BL0JBcE4sR0FBQW9OLFFBQUEsK0RBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQUQsRUFDQUUsT0FDQUosUUFBQSxvQkFBQWpVLEVBQUFzVSxHQUF3QyxNQUFBQSxLQUN4Q0wsUUFBQSxvQkFBQWpVLEVBQUFzVSxHQUF3QyxNQUFBQSxJQUd4QyxtREFBQUMsS0FBQUgsR0FDQSxNQUFBRixFQUlBLElBQUFNLEVBY0EsT0FWQUEsR0FGQSxJQUFBSixFQUFBbkUsUUFBQSxNQUVBbUUsRUFDRyxJQUFBQSxFQUFBbkUsUUFBQSxLQUVIMkQsRUFBQVEsRUFHQUwsRUFBQUssRUFBQUgsUUFBQSxZQUlBLE9BQUFwRyxLQUFBQyxVQUFBMEcsR0FBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfY2FyZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYXJkKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEhhbmQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhhbmQob3duZXIsIGhhbmROdW1iZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGFuZCk7XG5cbiAgICB2YXIgc2VsZWN0b3IgPSB2b2lkIDA7XG4gICAgaWYgKG93bmVyID09PSAnZGVhbGVyJykge1xuICAgICAgc2VsZWN0b3IgPSBcIiNkZWFsZXJcIjtcbiAgICB9IGVsc2UgaWYgKG93bmVyID09PSAncGxheWVyJykge1xuICAgICAgaWYgKGhhbmROdW1iZXIgPT09IDEpIHtcbiAgICAgICAgc2VsZWN0b3IgPSBcIiNoYW5kMVwiO1xuICAgICAgfSBlbHNlIGlmIChoYW5kTnVtYmVyID09PSAyKSB7XG4gICAgICAgIHNlbGVjdG9yID0gXCIjaGFuZDJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy4kd3JhcHBlciA9ICQoXCJcIiArIHNlbGVjdG9yKTtcbiAgICB0aGlzLiRoYW5kID0gJChzZWxlY3RvciArIFwiIC5oYW5kXCIpO1xuICAgIHRoaXMuJHBvaW50cyA9ICQoc2VsZWN0b3IgKyBcIiAucG9pbnRzXCIpO1xuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIHRoaXMuY2FyZHMgPSBbXTtcbiAgICB0aGlzLm91dGNvbWU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSGFuZCwgW3tcbiAgICBrZXk6IFwiYWRkQ2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDYXJkKGNhcmQsICRjYXJkKSB7XG4gICAgICB0aGlzLmNhcmRzLnB1c2goY2FyZCk7XG4gICAgICB0aGlzLiRoYW5kLmFwcGVuZCgkY2FyZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhblNwbGl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhblNwbGl0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FyZHNbMF0ucG9pbnQgPT09IHRoaXMuY2FyZHNbMV0ucG9pbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFBvaW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQb2ludHMoKSB7XG4gICAgICB2YXIgdG90YWwgPSAwO1xuICAgICAgdmFyIGFjZXMgPSAwO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY2FyZHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIGNhcmQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgIHZhciBwb2ludCA9IGNhcmQucG9pbnQ7XG4gICAgICAgICAgaWYgKHBvaW50ID09PSAxKSB7XG4gICAgICAgICAgICB0b3RhbCArPSAxMDtcbiAgICAgICAgICAgIGFjZXMrKztcbiAgICAgICAgICB9IGVsc2UgaWYgKHBvaW50ID4gMTApIHtcbiAgICAgICAgICAgIHBvaW50ID0gMTA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvdGFsICs9IHBvaW50O1xuICAgICAgICAgIHdoaWxlICh0b3RhbCA+IDIxICYmIGFjZXMgPiAwKSB7XG4gICAgICAgICAgICB0b3RhbCAtPSAxMDtcbiAgICAgICAgICAgIGFjZXMtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG90YWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUNhcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2FyZCgpIHtcbiAgICAgIHZhciBjYXJkID0gdGhpcy5jYXJkcy5wb3AoKTtcbiAgICAgIHZhciAkY2FyZCA9IHRoaXMuJGhhbmQuZmluZChcImltZzpsYXN0LWNoaWxkXCIpLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHsgY2FyZDogY2FyZCwgJGNhcmQ6ICRjYXJkIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJldmVhbEhvbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmV2ZWFsSG9sZSgpIHtcbiAgICAgIHRoaXMuJGhhbmQuZmluZCgnaW1nOmZpcnN0LWNoaWxkJykuYXR0cignc3JjJywgdGhpcy5jYXJkc1swXS5nZXRJbWFnZVVybCgpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VlQ2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWVDYXJkKGluZGV4KSB7XG4gICAgICByZXR1cm4gdGhpcy5jYXJkc1tpbmRleCAtIDFdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVIaWdobGlnaHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlSGlnaGxpZ2h0KCkge1xuICAgICAgdGhpcy5wbGF5aW5nID8gdGhpcy4kd3JhcHBlci5hZGRDbGFzcyhcImN1cnJlbnRIYW5kXCIpIDogdGhpcy4kd3JhcHBlci5yZW1vdmVDbGFzcyhcImN1cnJlbnRIYW5kXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVEaXNwbGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoY29udGVudCkge1xuICAgICAgdGhpcy4kcG9pbnRzLnRleHQoY29udGVudCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhhbmQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEhhbmQ7XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FyZChwb2ludCwgc3VpdCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXJkKTtcblxuICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICB0aGlzLnN1aXQgPSBzdWl0O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhcmQsIFt7XG4gICAga2V5OiBcImdldEltYWdlVXJsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEltYWdlVXJsKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5wb2ludDtcbiAgICAgIGlmICh0aGlzLnBvaW50ID09PSAxMSkge1xuICAgICAgICB2YWx1ZSA9IFwiamFja1wiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50ID09PSAxMikge1xuICAgICAgICB2YWx1ZSA9IFwicXVlZW5cIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wb2ludCA9PT0gMTMpIHtcbiAgICAgICAgdmFsdWUgPSBcImtpbmdcIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wb2ludCA9PT0gMSkge1xuICAgICAgICB2YWx1ZSA9IFwiYWNlXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJpbWFnZXMvXCIgKyB2YWx1ZSArIFwiX29mX1wiICsgdGhpcy5zdWl0ICsgXCIuc3ZnXCI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhcmQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhcmQ7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9nYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9nYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dhbWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3VycmVudEdhbWUgPSBuZXcgX2dhbWUyLmRlZmF1bHQoKTtcblxuY3VycmVudEdhbWUubWFrZUJldCgpO1xuXG4kKCcuZGVhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY3VycmVudEdhbWUucmVzZXRHYW1lKCk7XG4gIGN1cnJlbnRHYW1lLmdhbWVEZWNrLmdlbmVyYXRlKDMpO1xuICBjdXJyZW50R2FtZS5kZWFsKCk7XG59KTtcblxuJCgnLmhpdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY3VycmVudEdhbWUuaGl0KCk7XG59KTtcblxuJCgnLnN0YW5kJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBjdXJyZW50R2FtZS5zdGFuZCgpO1xufSk7XG5cbiQoJy5kb3VibGUtZG93bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY3VycmVudEdhbWUuZG91YmxlRG93bigpO1xufSk7XG5cbiQoJy5zcGxpdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY3VycmVudEdhbWUuc3BsaXQoKTtcbn0pO1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9oYW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9oYW5kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmQpO1xuXG52YXIgX2RlY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2RlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVjayk7XG5cbnZhciBfd2FsbGV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF93YWxsZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FsbGV0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEdhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdhbWUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdhbWUpO1xuXG4gICAgdGhpcy53YWxsZXQgPSBuZXcgX3dhbGxldDIuZGVmYXVsdCgpO1xuICAgIHRoaXMuZ2FtZURlY2sgPSBuZXcgX2RlY2syLmRlZmF1bHQoKTtcbiAgICB0aGlzLmRlYWxlckhhbmQgPSBuZXcgX2hhbmQyLmRlZmF1bHQoJ2RlYWxlcicpO1xuICAgIHRoaXMucGxheWVySGFuZCA9IG5ldyBfaGFuZDIuZGVmYXVsdCgncGxheWVyJywgMSk7XG4gICAgdGhpcy5zcGxpdEluUGxheSA9IGZhbHNlO1xuXG4gICAgdGhpcy4kdG90YWwgPSAkKFwiLnRvdGFsXCIpO1xuICAgIHRoaXMuJGJldCA9ICQoXCIuY3VycmVudEJldFwiKTtcbiAgICB0aGlzLiRjaGFuZ2UgPSAkKFwiLmNoYW5nZVwiKTtcblxuICAgIHRoaXMuJGRlYWwgPSAkKFwiLmRlYWxcIik7XG4gICAgdGhpcy4kaGl0ID0gJChcIi5oaXRcIik7XG4gICAgdGhpcy4kc3RhbmQgPSAkKFwiLnN0YW5kXCIpO1xuICAgIHRoaXMuJGRvdWJsZURvd24gPSAkKFwiLmRvdWJsZS1kb3duXCIpO1xuICAgIHRoaXMuJHNwbGl0ID0gJChcIi5zcGxpdFwiKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHYW1lLCBbe1xuICAgIGtleTogXCJhZGp1c3RTcGFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGp1c3RTcGFjZSgpIHtcbiAgICAgIHZhciBzaXplID0gdm9pZCAwO1xuICAgICAgdGhpcy5zcGxpdEluUGxheSA/IHNpemUgPSA1MCA6IHNpemUgPSAxMDA7XG4gICAgICAkKFwiLnBsYXllckhhbmQtZGl2XCIpLmNzcyhcIndpZHRoXCIsIHNpemUgKyBcIiVcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbGlicmF0ZVNsaWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxpYnJhdGVTbGlkZXIoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcImRlYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVhbCgpIHtcbiAgICAgIHRoaXMuc3RhcnRHYW1lTW9kZSgpO1xuICAgICAgdGhpcy5nYW1lRGVjay5zaHVmZmxlKCk7XG4gICAgICB0aGlzLmRlYWxPbmVDYXJkKHRoaXMuZGVhbGVySGFuZCwgXCJob2xlXCIpO1xuICAgICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xuICAgICAgdmFyIGRlYWxlclBvaW50cyA9IHRoaXMuZGVhbE9uZUNhcmQodGhpcy5kZWFsZXJIYW5kKTtcbiAgICAgIHZhciBwbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMucGxheWVySGFuZCk7XG4gICAgICB0aGlzLmRlYWxlckhhbmQudXBkYXRlRGlzcGxheShcIj9cIik7IC8vIGNvbmNlYWwgZGVhbGVyIHRvdGFsXG5cbiAgICAgIGlmIChkZWFsZXJQb2ludHMgPT09IDIxICYmIHBsYXllclBvaW50cyA9PT0gMjEpIHtcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiUHVzaFwiKTtcbiAgICAgICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCJCbGFja2phY2tcIik7XG4gICAgICAgIHRoaXMucGxheWVySGFuZC51cGRhdGVEaXNwbGF5KFwiQkxBQ0tKQUNLLCBIT1QgREFNTiFcIik7XG4gICAgICB9IGVsc2UgaWYgKGRlYWxlclBvaW50cyA9PT0gMjEpIHtcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiRGVhbGVyIHdpbnNcIik7XG4gICAgICAgIHRoaXMuZGVhbGVySGFuZC51cGRhdGVEaXNwbGF5KFwiQmxhY2tqYWNrXCIpO1xuICAgICAgICB0aGlzLm91dGNvbWUoXCJsb3NlXCIpO1xuICAgICAgfSBlbHNlIGlmIChwbGF5ZXJQb2ludHMgPT09IDIxKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4hXCIpO1xuICAgICAgICB0aGlzLmRlYWxlckhhbmQudXBkYXRlRGlzcGxheShkZWFsZXJQb2ludHMpO1xuICAgICAgICB0aGlzLnBsYXllckhhbmQudXBkYXRlRGlzcGxheShcIkJMQUNLSkFDSywgSE9UIERBTU4hXCIpO1xuICAgICAgICB0aGlzLm91dGNvbWUoXCJibGFja2phY2tcIik7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMud2FsbGV0Lm1vbmV5ID4gdGhpcy53YWxsZXQuYmV0ICogMikge1xuICAgICAgICBpZiAocGxheWVyUG9pbnRzID09PSAxMSkge1xuICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuJGRvdWJsZURvd24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBsYXllckhhbmQuY2FuU3BsaXQoKSkge1xuICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuJHNwbGl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWFsT25lQ2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWFsT25lQ2FyZChoYW5kLCBzcGVjaWFsKSB7XG4gICAgICB2YXIgY2FyZCA9IHRoaXMuZ2FtZURlY2suZHJhdygpO1xuICAgICAgdmFyICRjYXJkID0gJChcIjxpbWcgLz5cIiwge1xuICAgICAgICBcImNsYXNzXCI6IFwiY2FyZFwiLFxuICAgICAgICBcInNyY1wiOiBcIlwiICsgY2FyZC5nZXRJbWFnZVVybCgpXG4gICAgICB9KTtcbiAgICAgIGlmIChzcGVjaWFsID09PSBcImhvbGVcIikge1xuICAgICAgICAkY2FyZC5hdHRyKCdzcmMnLCBcImltYWdlcy9iYWNrLXN1aXRzLXJlZC5zdmdcIik7XG4gICAgICB9IGVsc2UgaWYgKHNwZWNpYWwgPT09IFwiZG91YmxlLWRvd25cIikge1xuICAgICAgICAkY2FyZC5hZGRDbGFzcygnY2FyZC1kZCcpO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsID09PSBcInNwbGl0XCIpIHtcbiAgICAgICAgJGNhcmQuYWRkQ2xhc3MoJ3NwbGl0Jyk7XG4gICAgICB9XG4gICAgICBoYW5kLmFkZENhcmQoY2FyZCwgJGNhcmQpO1xuICAgICAgaGFuZC51cGRhdGVEaXNwbGF5KGhhbmQuZ2V0UG9pbnRzKCkpO1xuICAgICAgcmV0dXJuIGhhbmQuZ2V0UG9pbnRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlYWxlclR1cm5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVhbGVyVHVybigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZGVhbGVySGFuZC5yZXZlYWxIb2xlKCk7XG4gICAgICB3aGlsZSAodGhpcy5kZWFsZXJIYW5kLmdldFBvaW50cygpIDwgMTcpIHtcbiAgICAgICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLmRlYWxlckhhbmQpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgaGFuZHMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgaGFuZHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGhhbmRzLmZvckVhY2goZnVuY3Rpb24gKGhhbmQpIHtcbiAgICAgICAgaWYgKCFoYW5kLm91dGNvbWUpIHtcbiAgICAgICAgICBfdGhpcy5ldmFsdWF0ZUhhbmQoaGFuZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaXNhYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGVsZW1lbnRzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgZWxlbWVudHNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICBlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRvdWJsZURvd25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG91YmxlRG93bigpIHtcbiAgICAgIHRoaXMud2FsbGV0LmRvdWJsZUJldCgpO1xuICAgICAgLy8gZGVhbCB0aGUgcGxheWVyIG9uZSBtb3JlIGNhcmQgYW5kIHRoZW4gbW92ZSBvbiB0byB0aGUgZGVhbGVyJ3MgdHVyblxuICAgICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQsIFwiZG91YmxlLWRvd25cIik7XG4gICAgICB0aGlzLnN0YW5kKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVuYWJsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGVsZW1lbnRzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgZWxlbWVudHNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVuZEdhbWVNb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuZEdhbWVNb2RlKCkge1xuICAgICAgdGhpcy5wbGF5ZXJIYW5kLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kKTtcbiAgICAgIHRoaXMuZGVhbGVySGFuZC5yZXZlYWxIb2xlKCk7XG4gICAgICB0aGlzLmRlYWxlckhhbmQudXBkYXRlRGlzcGxheSh0aGlzLmRlYWxlckhhbmQuZ2V0UG9pbnRzKCkpO1xuXG4gICAgICB0aGlzLndhbGxldC51cGRhdGUoKTtcbiAgICAgIHRoaXMud2FsbGV0LmFzc2Vzc0NoYW5nZSgpO1xuICAgICAgJChcIi5iZXR0aW5nIC5idXR0b25zXCIpLnNob3coKTtcbiAgICAgIHRoaXMuZW5hYmxlKHRoaXMuJGRlYWwpO1xuICAgICAgdGhpcy5kaXNhYmxlKHRoaXMuJGhpdCwgdGhpcy4kc3RhbmQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJldmFsdWF0ZUhhbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXZhbHVhdGVIYW5kKGhhbmQpIHtcbiAgICAgIHZhciBkZWFsZXJQb2ludHMgPSB0aGlzLmRlYWxlckhhbmQuZ2V0UG9pbnRzKCk7XG4gICAgICB2YXIgcGxheWVyUG9pbnRzID0gaGFuZC5nZXRQb2ludHMoKTtcbiAgICAgIGlmIChkZWFsZXJQb2ludHMgPiAyMSB8fCBwbGF5ZXJQb2ludHMgPiBkZWFsZXJQb2ludHMpIHtcbiAgICAgICAgaGFuZC5vdXRjb21lID0gXCJ3aW5cIjtcbiAgICAgIH0gZWxzZSBpZiAocGxheWVyUG9pbnRzIDwgZGVhbGVyUG9pbnRzKSB7XG4gICAgICAgIGhhbmQub3V0Y29tZSA9IFwibG9zZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZC5vdXRjb21lID0gXCJwdXNoXCI7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhpdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaXQoKSB7XG4gICAgICB0aGlzLmRpc2FibGUodGhpcy4kZG91YmxlRG93biwgdGhpcy4kc3BsaXQpO1xuICAgICAgaWYgKCF0aGlzLnNwbGl0SW5QbGF5KSB7XG4gICAgICAgIHZhciBwbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMucGxheWVySGFuZCk7XG4gICAgICAgIGlmIChwbGF5ZXJQb2ludHMgPiAyMSkge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSBidXN0XCIpO1xuICAgICAgICAgIHRoaXMub3V0Y29tZShcImxvc2VcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjdXJyZW50SGFuZCA9IHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgdmFyIF9wbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKGN1cnJlbnRIYW5kLCBcInNwbGl0XCIpO1xuICAgICAgICBpZiAoX3BsYXllclBvaW50cyA+IDIxKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRIYW5kID09PSB0aGlzLnBsYXllckhhbmQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVySGFuZC5vdXRjb21lID0gXCJsb3NlXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kMi5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRIYW5kID09PSB0aGlzLnBsYXllckhhbmQyKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLm91dGNvbWUgPSBcImxvc2VcIjtcbiAgICAgICAgICAgIHRoaXMucGxheWVySGFuZDIucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xuICAgICAgICAgICAgdGhpcy5pbnZva2VPdXRjb21lKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImludm9rZU91dGNvbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52b2tlT3V0Y29tZSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgaGFuZHMgPSBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBoYW5kc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGFuZDEgPSBoYW5kc1swXS5vdXRjb21lO1xuICAgICAgaWYgKGhhbmRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoaGFuZDEgPT09IFwid2luXCIpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3Ugd2luIVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJEZWFsZXIgd2luc1wiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm91dGNvbWUoaGFuZDEpO1xuICAgICAgfSBlbHNlIGlmIChoYW5kcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgdGhpcy5tdWx0aXBsZU91dGNvbWVzKGhhbmRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFrZUJldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlQmV0KCkge1xuICAgICAgdmFyIGdhbWUgPSB0aGlzO1xuICAgICAgdGhpcy53YWxsZXQudXBkYXRlKCk7XG4gICAgICAkKFwiLmJldC1idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZUJldCA9IGdhbWUud2FsbGV0Lm1vbmV5IC0gZ2FtZS53YWxsZXQuYmV0O1xuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDEwXCIpICYmIHBvc3NpYmxlQmV0ID49IDEwKSB7XG4gICAgICAgICAgZ2FtZS53YWxsZXQuYmV0ICs9IDEwO1xuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhZGQ1MFwiKSAmJiBwb3NzaWJsZUJldCA+PSA1MCkge1xuICAgICAgICAgIGdhbWUud2FsbGV0LmJldCArPSA1MDtcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiYWRkMTAwXCIpICYmIHBvc3NpYmxlQmV0ID49IDEwMCkge1xuICAgICAgICAgIGdhbWUud2FsbGV0LmJldCArPSAxMDA7XG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDUwMFwiKSAmJiBwb3NzaWJsZUJldCA+PSA1MDApIHtcbiAgICAgICAgICBnYW1lLndhbGxldC5iZXQgKz0gNTAwO1xuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhbGwtaW5cIikpIHtcbiAgICAgICAgICBnYW1lLndhbGxldC5iZXQgPSBnYW1lLndhbGxldC5tb25leTtcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwicmVzZXRcIikpIHtcbiAgICAgICAgICBnYW1lLndhbGxldC5iZXQgPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBnYW1lLiRiZXQudGV4dChnYW1lLndhbGxldC5iZXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm11bHRpcGxlT3V0Y29tZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbXVsdGlwbGVPdXRjb21lcyhoYW5kcykge1xuICAgICAgdmFyIGhhbmQxID0gaGFuZHNbMF0ub3V0Y29tZTtcbiAgICAgIHZhciBoYW5kMiA9IGhhbmRzWzFdLm91dGNvbWU7XG4gICAgICBpZiAoaGFuZDEgPT09IGhhbmQyKSB7XG4gICAgICAgIGlmIChoYW5kMSA9PT0gXCJibGFja2phY2tcIikge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIlRXTyBCTEFDS0pBQ0tTISEhXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhbmQxID09PSBcIndpblwiKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiBib3RoIVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJEZWFsZXIgd2lucyBib3RoXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIlB1c2ggYm90aFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhbGxldC5wYXlvdXQoaGFuZDEpO1xuICAgICAgfSBlbHNlIGlmIChoYW5kMSAhPT0gaGFuZDIpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlIG9mIGVhY2ggaGFuZCBvdXRjb21lIGJlZm9yZSBjYWxsaW5nIHBheW91dCBmdW5jdGlvblxuICAgICAgICB2YXIgaW5pdGlhbEJldCA9IHRoaXMud2FsbGV0LmJldCAvIDI7XG4gICAgICAgIHZhciBoYW5kMVZhbHVlID0gMDtcbiAgICAgICAgdmFyIGhhbmQyVmFsdWUgPSAwO1xuICAgICAgICBpZiAoaGFuZDEgPT09IFwiYmxhY2tqYWNrXCIgfHwgaGFuZDIgPT09IFwiYmxhY2tqYWNrXCIpIHtcbiAgICAgICAgICBoYW5kMVZhbHVlID0gaW5pdGlhbEJldCAqIDEuNTtcbiAgICAgICAgICBpZiAoaGFuZDEgPT09IFwid2luXCIgfHwgaGFuZDIgPT09IFwid2luXCIpIHtcbiAgICAgICAgICAgIGhhbmQyVmFsdWUgPSBpbml0aWFsQmV0O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiBib3RoIVwiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhbmQxID09PSBcImxvc2VcIiB8fCBoYW5kMiA9PT0gXCJsb3NlXCIpIHtcbiAgICAgICAgICAgIGhhbmQyVmFsdWUgPSAtaW5pdGlhbEJldDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSBhbmQgZGVhbGVyIGVhY2ggd2luIG9uZVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiBvbmUsIHB1c2hcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGhhbmQxID09PSBcIndpblwiIHx8IGhhbmQyID09PSBcIndpblwiKSB7XG4gICAgICAgICAgaGFuZDFWYWx1ZSA9IGluaXRpYWxCZXQ7XG4gICAgICAgICAgaWYgKGhhbmQxID09PSBcImxvc2VcIiB8fCBoYW5kMiA9PT0gXCJsb3NlXCIpIHtcbiAgICAgICAgICAgIGhhbmQyVmFsdWUgPSAtaW5pdGlhbEJldDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSBhbmQgZGVhbGVyIGVhY2ggd2luIG9uZVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiBvbmUsIHB1c2hcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGhhbmQxID09PSBcImxvc2VcIiB8fCBoYW5kMiA9PT0gXCJsb3NlXCIpIHtcbiAgICAgICAgICBoYW5kMVZhbHVlID0gLWluaXRpYWxCZXQ7XG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiRGVhbGVyIHdpbnMgb25lLCBwdXNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2FsbGV0LnBheW91dChcImN1c3RvbVwiLCBoYW5kMVZhbHVlLCBoYW5kMlZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3BsaXRJblBsYXkgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW5kR2FtZU1vZGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibW9kYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbW9kYWwobW9kYWxUeXBlKSB7XG4gICAgICBpZiAobW9kYWxUeXBlID09PSBcImJhbmtydXB0XCIpIHtcbiAgICAgICAgdmFyIGdhbWUgPSB0aGlzO1xuICAgICAgICAkKFwiLm1vZGFsLCAubW9kYWwtb3ZlcmxheVwiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICQoXCIubW9kYWwtZ3V0cyBidXR0b25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJChcIi5tb2RhbCwgLm1vZGFsLW92ZXJsYXlcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuICAgICAgICAgICQoXCIudGl0bGUtc2NyZWVuXCIpLnNob3coKTtcbiAgICAgICAgICBnYW1lLnJlc2V0R2FtZSgpO1xuICAgICAgICAgIGdhbWUud2FsbGV0LnJlc2V0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChtb2RhbFR5cGUgPT09IFwiaGVscFwiKSB7XG4gICAgICAgIC8vIGZ1dHVyZSBnYW1lIGZlYXR1cmU6IGluc3RydWN0aW9ucyBhdmFpbGFibGUgaW4gaGVscCBtb2RhbFxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvdXRjb21lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG91dGNvbWUocmVzdWx0KSB7XG4gICAgICB0aGlzLndhbGxldC5wYXlvdXQocmVzdWx0KTtcbiAgICAgIGlmIChyZXN1bHQgPT09IFwicHVzaFwiKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIlB1c2hcIik7XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PT0gXCJsb3NlXCIpIHtcbiAgICAgICAgaWYgKHRoaXMud2FsbGV0Lm1vbmV5IC0gdGhpcy53YWxsZXQuYmV0IDw9IDApIHtcbiAgICAgICAgICB0aGlzLm1vZGFsKFwiYmFua3J1cHRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuZW5kR2FtZU1vZGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRHYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0R2FtZSgpIHtcbiAgICAgIHRoaXMuZ2FtZURlY2sgPSBuZXcgX2RlY2syLmRlZmF1bHQoKTtcbiAgICAgIHRoaXMuZGVhbGVySGFuZCA9IG5ldyBfaGFuZDIuZGVmYXVsdChcImRlYWxlclwiKTtcbiAgICAgIHRoaXMucGxheWVySGFuZCA9IG5ldyBfaGFuZDIuZGVmYXVsdChcInBsYXllclwiLCAxKTtcbiAgICAgICQoXCIubWVzc2FnZXNcIikuZW1wdHkoKTtcbiAgICAgICQoXCIucGxheWVyLWhhbmRcIikuZW1wdHkoKTtcbiAgICAgICQoXCIuZGVhbGVyLWhhbmRcIikuZW1wdHkoKTtcbiAgICAgICQoXCIucGxheWVyLXBvaW50c1wiKS5lbXB0eSgpO1xuICAgICAgJChcIi5kZWFsZXItcG9pbnRzXCIpLmVtcHR5KCk7XG4gICAgICAkKFwiLmNoYW5nZVwiKS5lbXB0eSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RDdXJyZW50SGFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RDdXJyZW50SGFuZCgpIHtcbiAgICAgIHZhciBjdXJyZW50SGFuZCA9IHZvaWQgMDtcblxuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBoYW5kcyA9IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGhhbmRzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gaGFuZHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgaGFuZCA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgIGhhbmQudG9nZ2xlSGlnaGxpZ2h0KCk7XG4gICAgICAgICAgaWYgKGhhbmQucGxheWluZykge1xuICAgICAgICAgICAgY3VycmVudEhhbmQgPSBoYW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3VycmVudEhhbmQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNwbGl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNwbGl0KCkge1xuICAgICAgdGhpcy5zcGxpdEluUGxheSA9IHRydWU7XG4gICAgICB0aGlzLmRpc2FibGUodGhpcy4kc3BsaXQpO1xuICAgICAgdGhpcy53YWxsZXQuZG91YmxlQmV0KCk7XG5cbiAgICAgIC8vIHN0YXJ0IGFkZGl0aW9uYWwgaGFuZCBhbmQgbW92ZSBvbmUgY2FyZCBmcm9tIGhhbmQgMSB0byBoYW5kIDJcbiAgICAgIHRoaXMuYWRqdXN0U3BhY2UoKTtcbiAgICAgIHRoaXMucGxheWVySGFuZDIgPSBuZXcgX2hhbmQyLmRlZmF1bHQoXCJwbGF5ZXJcIiwgMik7XG4gICAgICB2YXIgcmVtb3ZlZENhcmQgPSB0aGlzLnBsYXllckhhbmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgdGhpcy5wbGF5ZXJIYW5kMi5hZGRDYXJkKHJlbW92ZWRDYXJkLmNhcmQsIHJlbW92ZWRDYXJkLiRjYXJkKTtcbiAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5wbGF5ZXJIYW5kKTtcbiAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5wbGF5ZXJIYW5kMik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YW5kKCkge1xuICAgICAgaWYgKCF0aGlzLnNwbGl0SW5QbGF5KSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kLCB0aGlzLiRkb3VibGVEb3duLCB0aGlzLiRzcGxpdCk7XG4gICAgICAgIHRoaXMuZGVhbGVyVHVybih0aGlzLnBsYXllckhhbmQpO1xuICAgICAgICB0aGlzLmludm9rZU91dGNvbWUodGhpcy5wbGF5ZXJIYW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjdXJyZW50SGFuZCA9IHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcbiAgICAgICAgaWYgKGN1cnJlbnRIYW5kID09PSB0aGlzLnBsYXllckhhbmQpIHtcbiAgICAgICAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMucGxheWVySGFuZDIucGxheWluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRIYW5kID09PSB0aGlzLnBsYXllckhhbmQyKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kMi5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xuICAgICAgICAgIHRoaXMuZGVhbGVyVHVybih0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xuICAgICAgICAgIHRoaXMuaW52b2tlT3V0Y29tZSh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0R2FtZU1vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRHYW1lTW9kZSgpIHtcbiAgICAgICQoXCIudGl0bGUtc2NyZWVuXCIpLmhpZGUoKTtcbiAgICAgIHRoaXMuYWRqdXN0U3BhY2UoKTtcbiAgICAgIHRoaXMuZW5hYmxlKHRoaXMuJGhpdCwgdGhpcy4kc3RhbmQpO1xuICAgICAgdGhpcy5kaXNhYmxlKHRoaXMuJGRlYWwpO1xuICAgICAgJChcIi5iZXR0aW5nIC5idXR0b25zXCIpLmhpZGUoKTtcbiAgICAgIHRoaXMucGxheWVySGFuZC5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICQoXCIubWVzc2FnZXNcIikuYXBwZW5kKFwiPGgxPlwiICsgbWVzc2FnZSArIFwiPC9oMT5cIik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdhbWU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdhbWU7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2NhcmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FyZCk7XG5cbnZhciBfaGFuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfaGFuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERlY2sgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERlY2soKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY2spO1xuXG4gICAgdGhpcy5jYXJkcyA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERlY2ssIFt7XG4gICAga2V5OiBcImRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhcmRzLnBvcCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZW5lcmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZShudW1EZWNrcykge1xuICAgICAgaWYgKCFudW1EZWNrcykge1xuICAgICAgICBudW1EZWNrcyA9IDE7XG4gICAgICB9XG4gICAgICB3aGlsZSAobnVtRGVja3MgPiAwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDEzOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IF9jYXJkMi5kZWZhdWx0KGksIFwic3BhZGVzXCIpKTtcbiAgICAgICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IF9jYXJkMi5kZWZhdWx0KGksIFwiZGlhbW9uZHNcIikpO1xuICAgICAgICAgIHRoaXMuY2FyZHMucHVzaChuZXcgX2NhcmQyLmRlZmF1bHQoaSwgXCJoZWFydHNcIikpO1xuICAgICAgICAgIHRoaXMuY2FyZHMucHVzaChuZXcgX2NhcmQyLmRlZmF1bHQoaSwgXCJjbHVic1wiKSk7XG4gICAgICAgIH1cbiAgICAgICAgbnVtRGVja3MtLTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2h1ZmZsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaHVmZmxlKCkge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuY2FyZHMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICB2YXIgX3JlZiA9IFt0aGlzLmNhcmRzW2pdXTtcbiAgICAgICAgdGhpcy5jYXJkc1tpXSA9IF9yZWZbMF07XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERlY2s7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERlY2s7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgV2FsbGV0ID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBXYWxsZXQoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdhbGxldCk7XG5cblx0XHR0aGlzLm1vbmV5ID0gNTAwO1xuXHRcdHRoaXMuYmV0ID0gMTA7XG5cdFx0dGhpcy5jaGFuZ2UgPSBcIlwiO1xuXG5cdFx0dGhpcy4kdG90YWwgPSAkKFwiLnRvdGFsXCIpO1xuXHRcdHRoaXMuJGJldCA9ICQoXCIuY3VycmVudEJldFwiKTtcblx0XHR0aGlzLiRjaGFuZ2UgPSAkKFwiLmNoYW5nZVwiKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhXYWxsZXQsIFt7XG5cdFx0a2V5OiBcImFzc2Vzc0NoYW5nZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBhc3Nlc3NDaGFuZ2UoKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lID0gXCJcIjtcblx0XHRcdHZhciBzeW1ib2wgPSBcIlwiO1xuXHRcdFx0aWYgKHRoaXMuY2hhbmdlID4gMCkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBcInBvc2l0aXZlXCI7XG5cdFx0XHRcdHN5bWJvbCA9IFwiK1wiO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmNoYW5nZSA8IDApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gXCJuZWdhdGl2ZVwiO1xuXHRcdFx0XHRzeW1ib2wgPSBcIi1cIjtcblx0XHRcdH1cblx0XHRcdHRoaXMuJGNoYW5nZS5hcHBlbmQoXCI8c3BhbiBjbGFzcz1cXFwiXCIgKyBjbGFzc05hbWUgKyBcIlxcXCI+XCIgKyBzeW1ib2wgKyBcIiAkXCIgKyBNYXRoLmFicyh0aGlzLmNoYW5nZSkgKyBcIjwvc3Bhbj5cIik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRvdWJsZUJldFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkb3VibGVCZXQoKSB7XG5cdFx0XHR0aGlzLm1vbmV5IC09IHRoaXMuYmV0O1xuXHRcdFx0dGhpcy5iZXQgKj0gMjtcblx0XHRcdHRoaXMudXBkYXRlKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInBheW91dFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwYXlvdXQob3V0Y29tZSwgaGFuZDFWYWx1ZSwgaGFuZDJWYWx1ZSkge1xuXHRcdFx0aWYgKG91dGNvbWUgPT09IFwiYmxhY2tqYWNrXCIpIHtcblx0XHRcdFx0dGhpcy5jaGFuZ2UgPSB0aGlzLmJldCAqIDEuNTtcblx0XHRcdH0gZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJ3aW5cIikge1xuXHRcdFx0XHR0aGlzLmNoYW5nZSA9IHRoaXMuYmV0O1xuXHRcdFx0fSBlbHNlIGlmIChvdXRjb21lID09PSBcImxvc2VcIikge1xuXHRcdFx0XHR0aGlzLmNoYW5nZSA9IC10aGlzLmJldDtcblx0XHRcdH0gZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJwdXNoXCIpIHtcblx0XHRcdFx0dGhpcy5jaGFuZ2UgPSAwO1xuXHRcdFx0fSBlbHNlIGlmIChvdXRjb21lID09PSBcIm11bHRpcGxlXCIpIHtcblx0XHRcdFx0dGhpcy5jaGFuZ2UgPSBoYW5kMVZhbHVlICsgaGFuZDJWYWx1ZTtcblx0XHRcdH1cblx0XHRcdHRoaXMubW9uZXkgKz0gdGhpcy5jaGFuZ2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJlc2V0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHRcdFx0dGhpcy5tb25leSA9IDUwMDtcblx0XHRcdHRoaXMuYmV0ID0gMTA7XG5cdFx0XHR0aGlzLmNoYW5nZSA9IFwiXCI7XG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ1cGRhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0dGhpcy4kdG90YWwudGV4dCh0aGlzLm1vbmV5KTtcblx0XHRcdHRoaXMuJGJldC50ZXh0KHRoaXMuYmV0KTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gV2FsbGV0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXYWxsZXQ7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4vLyBQcmVwYXJlIGNzc1RyYW5zZm9ybWF0aW9uXG52YXIgdHJhbnNmb3JtO1xuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTApKGNvbnRlbnQsIG9wdGlvbnMpO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihmYWxzZSkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYWluLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vbWFpbi5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oOSkodW5kZWZpbmVkKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiKntib3gtc2l6aW5nOmJvcmRlci1ib3h9Ym9keSxodG1se2hlaWdodDoxMDAlO2ZvbnQtc2l6ZTo4MCV9Ym9keXttYXJnaW46MDttaW4taGVpZ2h0OjU1MHB4O2JhY2tncm91bmQtY29sb3I6IzhjMDAwMjtmb250LWZhbWlseTpFayBNdWt0YSxzYW5zLXNlcmlmO2ZvbnQtd2VpZ2h0OjMwMDtmb250LXNpemU6MXJlbTtjb2xvcjojZmNmZWU1fW1haW57aGVpZ2h0OjEwMCU7dGV4dC1hbGlnbjpjZW50ZXJ9aDEsaDIsaDMsaDQsaDUsaDZ7bWFyZ2luOjA7Zm9udC13ZWlnaHQ6MzAwfWgxe21hcmdpbjoxMHB4IDB9dGFibGV7bWFyZ2luLWJvdHRvbToxMHB4O3dpZHRoOjEwMCU7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3RleHQtYWxpZ246Y2VudGVyfXRke3dpZHRoOjUwJTtoZWlnaHQ6MS41cmVtfWJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjVweDt3aWR0aDo0OSU7Zm9udC1mYW1pbHk6RWsgTXVrdGEsc2Fucy1zZXJpZjtmb250LXNpemU6MXJlbTtmb250LXdlaWdodDozMDA7YmFja2dyb3VuZDojZmNmZWU1O2NvbG9yOiMwNjA2MDU7Ym9yZGVyOjRweCBzb2xpZCAjYmE3NjE5O291dGxpbmU6bm9uZX1idXR0b246aG92ZXJ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX1idXR0b246YWN0aXZle291dGxpbmU6bm9uZX1idXR0b25bZGlzYWJsZWRdLGJ1dHRvbltkaXNhYmxlZF06aG92ZXJ7Ym9yZGVyOjRweCBzb2xpZCAjOGMwMDAyO2NvbG9yOnRyYW5zcGFyZW50O3RleHQtc2hhZG93OjAgMCA1cHggcmdiYSg2LDYsNSwuNSk7Y3Vyc29yOmRlZmF1bHQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cG9zaXRpb246cmVsYXRpdmV9YnV0dG9uW2Rpc2FibGVkXTphZnRlcntjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQ6IzA2MDYwNTtvcGFjaXR5Oi4zfS5mbHtmbG9hdDpsZWZ0fS5mcntmbG9hdDpyaWdodH0uY2Y6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OmJsb2NrO2NsZWFyOmJvdGh9LnBvc2l0aXZle2NvbG9yOiMyZmYzMWN9Lm5lZ2F0aXZle2NvbG9yOiNmYjAwMDd9LmNvbnRhaW5lcnttYXJnaW46MCBhdXRvO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1hcm91bmR9Lm1lc3NhZ2Vze2hlaWdodDo2NnB4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0udGFibGV7cG9zaXRpb246cmVsYXRpdmV9LnRpdGxlLXNjcmVlbntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO3otaW5kZXg6MTt0ZXh0LWFsaWduOmNlbnRlcn0udGl0bGUtc2NyZWVuIGgxe2ZvbnQtc2l6ZTo1cmVtfS50aXRsZS1zY3JlZW4gLmluc3RydWN0aW9uc3t3aWR0aDo1MCU7ZmxvYXQ6bGVmdH0uZGVhbGVyLC5wbGF5ZXJ7d2lkdGg6MTAwJTtoZWlnaHQ6MTYwcHh9LmRlYWxlckhhbmQtZGl2LC5wbGF5ZXJIYW5kLWRpdnt3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OmxlZnR9LmRlYWxlci1oYW5kLC5wbGF5ZXItaGFuZHttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoxMTBweDt3aWR0aDo3MCV9LmN1cnJlbnRIYW5kOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7b3BhY2l0eTouMTU7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6I2ZmZn0uY2FyZCwuY3VycmVudEhhbmQ6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjEwMCV9LmNhcmR7cmlnaHQ6LTUwJX0uY2FyZC1kZHt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtsZWZ0OjQwcHghaW1wb3J0YW50fS5jYXJkOmZpcnN0LWNoaWxke2xlZnQ6MH0uY2FyZDpudGgtY2hpbGQoMil7bGVmdDo0MHB4fS5jYXJkOm50aC1jaGlsZCgzKXtsZWZ0OjgwcHh9LmNhcmQ6bnRoLWNoaWxkKDQpe2xlZnQ6MTIwcHh9LmNhcmQ6bnRoLWNoaWxkKDUpe2xlZnQ6MTYwcHh9LmNhcmQ6bnRoLWNoaWxkKDYpe2xlZnQ6MjAwcHh9LmNhcmQ6bnRoLWNoaWxkKDcpe2xlZnQ6MjQwcHh9LmNhcmQ6bnRoLWNoaWxkKDgpe2xlZnQ6MjgwcHh9LmNhcmQ6bnRoLWNoaWxkKDkpe2xlZnQ6MzIwcHh9LmNhcmQuc3BsaXR7bGVmdDowfS5jYXJkLnNwbGl0Om50aC1jaGlsZCgyKXtsZWZ0OjEwcHh9LmNhcmQuc3BsaXQ6bnRoLWNoaWxkKDMpe2xlZnQ6MjBweH0uY2FyZC5zcGxpdDpudGgtY2hpbGQoNCl7bGVmdDozMHB4fS5jYXJkLnNwbGl0Om50aC1jaGlsZCg1KXtsZWZ0OjQwcHh9LmNhcmQuc3BsaXQ6bnRoLWNoaWxkKDYpe2xlZnQ6NTBweH0uY2FyZC5zcGxpdDpudGgtY2hpbGQoNyl7bGVmdDo2MHB4fS5jYXJkLnNwbGl0Om50aC1jaGlsZCg4KXtsZWZ0OjcwcHh9LmNhcmQuc3BsaXQ6bnRoLWNoaWxkKDkpe2xlZnQ6ODBweH0uYWN0aW9uLXdyYXB7bWFyZ2luOjAgYXV0bzt3aWR0aDo5NSV9LmJldHRpbmcsLmdhbWUtYWN0aW9uc3t3aWR0aDo1MCU7ZmxvYXQ6bGVmdH0uYWN0aW9ucyAuY29udGFpbmVyLC5tb25leSAuY29udGFpbmVye21hcmdpbjowIGF1dG87bWF4LXdpZHRoOjQwMHB4O3dpZHRoOjgwJX0uZGVhbHttYXJnaW46MCBhdXRvO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJX0ucm93e21hcmdpbi1ib3R0b206NXB4O3Bvc2l0aW9uOnJlbGF0aXZlfS5tb25leSBoM3tkaXNwbGF5OmlubGluZS1ibG9ja30ubW9kYWx7cG9zaXRpb246Zml4ZWQ7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7bWF4LXdpZHRoOjUwMHB4O21heC1oZWlnaHQ6NTAwcHg7aGVpZ2h0OjkwJTt3aWR0aDo5MCU7ei1pbmRleDoyfS5tb2RhbC1ndXRze2JhY2tncm91bmQ6I2ZjZmVlNTtjb2xvcjojMDYwNjA1O292ZXJmbG93OmF1dG87ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ubW9kYWwtZ3V0cywubW9kYWwtb3ZlcmxheXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0ubW9kYWwtb3ZlcmxheXtiYWNrZ3JvdW5kOiMwNjA2MDU7ei1pbmRleDoxO29wYWNpdHk6LjV9LmhpZGV7ZGlzcGxheTpub25lfUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6NDgwcHgpe2h0bWx7Zm9udC1zaXplOjEwMCV9Ym9keXttaW4taGVpZ2h0OjYwMHB4IWltcG9ydGFudH0uYWN0aW9uLXdyYXAsLmNvbnRhaW5lcnt3aWR0aDo5MCV9LmRlYWxlci1oYW5kLC5wbGF5ZXItaGFuZHtoZWlnaHQ6MTUwcHg7d2lkdGg6NTAlfX1AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjc2OHB4KXtodG1se2ZvbnQtc2l6ZToxMjUlfWJvZHl7bWluLWhlaWdodDo3MDBweH0uZGVhbGVyLC5wbGF5ZXJ7aGVpZ2h0OjIwMHB4O3dpZHRoOjUwJTtmbG9hdDpsZWZ0O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LmRlYWxlci1oYW5kLC5wbGF5ZXItaGFuZHtoZWlnaHQ6MjAwcHg7d2lkdGg6OTAlfS5hY3Rpb24td3JhcHttYXJnaW46MCBhdXRvO3dpZHRoOjgwJX19QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDo5NjBweCl7LmNvbnRhaW5lcnt3aWR0aDo4MCV9LmRlYWxlci1oYW5kLC5wbGF5ZXItaGFuZHtoZWlnaHQ6MjAwcHg7d2lkdGg6ODAlfX1AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjEyMDBweCl7Ym9keXttaW4taGVpZ2h0Ojk1MHB4fS5jb250YWluZXJ7d2lkdGg6NzAlfS5kZWFsZXIsLnBsYXllcntoZWlnaHQ6MjYwcHh9LmRlYWxlci1oYW5kLC5wbGF5ZXItaGFuZHtoZWlnaHQ6MjUwcHg7d2lkdGg6ODAlfS5jYXJkLWRke2xlZnQ6NTBweCFpbXBvcnRhbnR9LmNhcmQ6Zmlyc3QtY2hpbGR7bGVmdDowfS5jYXJkOm50aC1jaGlsZCgyKXtsZWZ0OjUwcHh9LmNhcmQ6bnRoLWNoaWxkKDMpe2xlZnQ6MTAwcHh9LmNhcmQ6bnRoLWNoaWxkKDQpe2xlZnQ6MTUwcHh9LmNhcmQ6bnRoLWNoaWxkKDUpe2xlZnQ6MjAwcHh9LmNhcmQ6bnRoLWNoaWxkKDYpe2xlZnQ6MjUwcHh9LmNhcmQ6bnRoLWNoaWxkKDcpe2xlZnQ6MzAwcHh9LmNhcmQ6bnRoLWNoaWxkKDgpe2xlZnQ6MzUwcHh9LmNhcmQ6bnRoLWNoaWxkKDkpe2xlZnQ6NDAwcHh9fUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6MTYwMHB4KXtodG1se2ZvbnQtc2l6ZToxNTAlfWJ1dHRvbntwYWRkaW5nOjE1cHh9LmNvbnRhaW5lcnttYXgtd2lkdGg6MTQwMHB4fS5tZXNzYWdlc3toZWlnaHQ6NzVweH0uZGVhbGVyLWhhbmQsLnBsYXllci1oYW5ke2hlaWdodDozMDBweDt3aWR0aDo2MCV9LmNhcmQtZGR7bGVmdDo3MHB4IWltcG9ydGFudH0uY2FyZDpmaXJzdC1jaGlsZHtsZWZ0OjB9LmNhcmQ6bnRoLWNoaWxkKDIpe2xlZnQ6NzBweH0uY2FyZDpudGgtY2hpbGQoMyl7bGVmdDoxNDBweH0uY2FyZDpudGgtY2hpbGQoNCl7bGVmdDoyMTBweH0uY2FyZDpudGgtY2hpbGQoNSl7bGVmdDoyODBweH0uY2FyZDpudGgtY2hpbGQoNil7bGVmdDozNTBweH0uY2FyZDpudGgtY2hpbGQoNyl7bGVmdDo0MjBweH0uY2FyZDpudGgtY2hpbGQoOCl7bGVmdDo0OTBweH0uY2FyZDpudGgtY2hpbGQoOSl7bGVmdDo1NjBweH0uYWN0aW9uLXdyYXB7d2lkdGg6NzAlfX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbihzZWxlY3Rvcikge1xuXHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGZuLmNhbGwodGhpcywgc2VsZWN0b3IpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmIChzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bc2VsZWN0b3JdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHR9O1xufSkoZnVuY3Rpb24gKHRhcmdldCkge1xuXHRyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpXG59KTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBidW5kbGUuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAwZjAzODY0MTExYWJiNzZmZjk5MiIsImltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhbmQge1xyXG4gIGNvbnN0cnVjdG9yKG93bmVyLCBoYW5kTnVtYmVyKSB7XHJcbiAgICBsZXQgc2VsZWN0b3I7XHJcbiAgICBpZiAob3duZXIgPT09ICdkZWFsZXInKSB7XHJcbiAgICAgIHNlbGVjdG9yID0gXCIjZGVhbGVyXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChvd25lciA9PT0gJ3BsYXllcicpIHtcclxuICAgICAgaWYgKGhhbmROdW1iZXIgPT09IDEpIHtcclxuICAgICAgICBzZWxlY3RvciA9IFwiI2hhbmQxXCI7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaGFuZE51bWJlciA9PT0gMikge1xyXG4gICAgICAgIHNlbGVjdG9yID0gXCIjaGFuZDJcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy4kd3JhcHBlciA9ICQoYCR7c2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLiRoYW5kID0gJChgJHtzZWxlY3Rvcn0gLmhhbmRgKTtcclxuICAgIHRoaXMuJHBvaW50cyA9ICQoYCR7c2VsZWN0b3J9IC5wb2ludHNgKTtcclxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5jYXJkcyA9IFtdO1xyXG4gICAgdGhpcy5vdXRjb21lO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChjYXJkLCAkY2FyZCkge1xyXG4gICAgdGhpcy5jYXJkcy5wdXNoKGNhcmQpO1xyXG4gICAgdGhpcy4kaGFuZC5hcHBlbmQoJGNhcmQpO1xyXG4gIH1cclxuXHJcbiAgY2FuU3BsaXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYXJkc1swXS5wb2ludCA9PT0gdGhpcy5jYXJkc1sxXS5wb2ludDtcclxuICB9XHJcblxyXG4gIGdldFBvaW50cygpIHtcclxuICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICBsZXQgYWNlcyA9IDA7XHJcbiAgICBmb3IgKGxldCBjYXJkIG9mIHRoaXMuY2FyZHMpIHtcclxuICAgICAgbGV0IHBvaW50ID0gY2FyZC5wb2ludDtcclxuICAgICAgaWYgKHBvaW50ID09PSAxKSB7XHJcbiAgICAgICAgdG90YWwgKz0gMTA7XHJcbiAgICAgICAgYWNlcysrO1xyXG4gICAgICB9IFxyXG4gICAgICBlbHNlIGlmIChwb2ludCA+IDEwKSB7XHJcbiAgICAgICAgcG9pbnQgPSAxMDtcclxuICAgICAgfVxyXG4gICAgICB0b3RhbCArPSBwb2ludDtcclxuICAgICAgd2hpbGUgKHRvdGFsID4gMjEgJiYgYWNlcyA+IDApIHtcclxuICAgICAgICB0b3RhbCAtPSAxMDtcclxuICAgICAgICBhY2VzLS07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0b3RhbDtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICBsZXQgY2FyZCA9IHRoaXMuY2FyZHMucG9wKCk7XHJcbiAgICBsZXQgJGNhcmQgPSB0aGlzLiRoYW5kLmZpbmQoXCJpbWc6bGFzdC1jaGlsZFwiKS5yZW1vdmUoKTtcclxuICAgIHJldHVybiB7Y2FyZCwgJGNhcmR9O1xyXG4gIH1cclxuXHJcbiAgcmV2ZWFsSG9sZSgpIHtcclxuICAgIHRoaXMuJGhhbmQuZmluZCgnaW1nOmZpcnN0LWNoaWxkJykuYXR0cignc3JjJywgdGhpcy5jYXJkc1swXS5nZXRJbWFnZVVybCgpKTtcclxuICB9XHJcblxyXG4gIHNlZUNhcmQoaW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzW2luZGV4IC0gMV07XHJcbiAgfVxyXG5cclxuICB0b2dnbGVIaWdobGlnaHQoKSB7XHJcbiAgICB0aGlzLnBsYXlpbmcgPyB0aGlzLiR3cmFwcGVyLmFkZENsYXNzKFwiY3VycmVudEhhbmRcIikgOiB0aGlzLiR3cmFwcGVyLnJlbW92ZUNsYXNzKFwiY3VycmVudEhhbmRcIik7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEaXNwbGF5KGNvbnRlbnQpIHtcclxuICAgIHRoaXMuJHBvaW50cy50ZXh0KGNvbnRlbnQpO1xyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY29tcG9uZW50cy9oYW5kLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IocG9pbnQsIHN1aXQpIHtcclxuICAgIHRoaXMucG9pbnQgPSBwb2ludDtcclxuICAgIHRoaXMuc3VpdCA9IHN1aXQ7XHJcbiAgfVxyXG5cclxuICBnZXRJbWFnZVVybCgpIHtcclxuICAgIGxldCB2YWx1ZSA9IHRoaXMucG9pbnQ7XHJcbiAgICBpZiAodGhpcy5wb2ludCA9PT0gMTEpIHtcclxuICAgICAgdmFsdWUgPSBcImphY2tcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMucG9pbnQgPT09IDEyKSB7XHJcbiAgICAgIHZhbHVlID0gXCJxdWVlblwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5wb2ludCA9PT0gMTMpIHtcclxuICAgICAgdmFsdWUgPSBcImtpbmdcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMucG9pbnQgPT09IDEpIHtcclxuICAgICAgdmFsdWUgPSBcImFjZVwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGBpbWFnZXMvJHt2YWx1ZX1fb2ZfJHt0aGlzLnN1aXR9LnN2Z2A7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJpbXBvcnQgXCIuL2FwcFwiO1xyXG5pbXBvcnQgXCIuLi9zY3NzL21haW4uc2Nzc1wiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9pbmRleC5qcyIsImltcG9ydCBHYW1lIGZyb20gJy4vY29tcG9uZW50cy9nYW1lJztcblxudmFyIGN1cnJlbnRHYW1lID0gbmV3IEdhbWU7XG5cbmN1cnJlbnRHYW1lLm1ha2VCZXQoKTtcblxuJCgnLmRlYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgY3VycmVudEdhbWUucmVzZXRHYW1lKCk7XG4gIGN1cnJlbnRHYW1lLmdhbWVEZWNrLmdlbmVyYXRlKDMpO1xuICBjdXJyZW50R2FtZS5kZWFsKCk7XG59KTtcblxuJCgnLmhpdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBjdXJyZW50R2FtZS5oaXQoKTtcbn0pO1xuXG4kKCcuc3RhbmQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgY3VycmVudEdhbWUuc3RhbmQoKTtcbn0pO1xuXG4kKCcuZG91YmxlLWRvd24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgY3VycmVudEdhbWUuZG91YmxlRG93bigpO1xufSk7XG5cbiQoJy5zcGxpdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBjdXJyZW50R2FtZS5zcGxpdCgpO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvYXBwLmpzIiwiaW1wb3J0IEhhbmQgZnJvbSBcIi4vaGFuZFwiO1xyXG5pbXBvcnQgRGVjayBmcm9tIFwiLi9kZWNrXCI7XHJcbmltcG9ydCBXYWxsZXQgZnJvbSBcIi4vd2FsbGV0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMud2FsbGV0ID0gbmV3IFdhbGxldDtcclxuICAgIHRoaXMuZ2FtZURlY2sgPSBuZXcgRGVjaztcclxuICAgIHRoaXMuZGVhbGVySGFuZCA9IG5ldyBIYW5kKCdkZWFsZXInKTtcclxuICAgIHRoaXMucGxheWVySGFuZCA9IG5ldyBIYW5kKCdwbGF5ZXInLCAxKTtcclxuICAgIHRoaXMuc3BsaXRJblBsYXkgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLiR0b3RhbCA9ICQoXCIudG90YWxcIik7XHJcbiAgICB0aGlzLiRiZXQgPSAkKFwiLmN1cnJlbnRCZXRcIik7XHJcbiAgICB0aGlzLiRjaGFuZ2UgPSAkKFwiLmNoYW5nZVwiKTtcclxuICAgIFxyXG4gICAgdGhpcy4kZGVhbCA9ICQoXCIuZGVhbFwiKTtcclxuICAgIHRoaXMuJGhpdCA9ICQoXCIuaGl0XCIpO1xyXG4gICAgdGhpcy4kc3RhbmQgPSAkKFwiLnN0YW5kXCIpO1xyXG4gICAgdGhpcy4kZG91YmxlRG93biA9ICQoXCIuZG91YmxlLWRvd25cIik7XHJcbiAgICB0aGlzLiRzcGxpdCA9ICQoXCIuc3BsaXRcIik7XHJcbiAgfVxyXG5cclxuICBhZGp1c3RTcGFjZSgpIHtcclxuICAgIGxldCBzaXplO1xyXG4gICAgdGhpcy5zcGxpdEluUGxheSA/IHNpemUgPSA1MCA6IHNpemUgPSAxMDA7XHJcbiAgICAkKFwiLnBsYXllckhhbmQtZGl2XCIpLmNzcyhcIndpZHRoXCIsIGAke3NpemV9JWApO1xyXG4gIH1cclxuXHJcbiAgY2FsaWJyYXRlU2xpZGVyKCkge1xyXG5cclxuICB9XHJcblxyXG4gIGRlYWwoKSB7XHJcbiAgICB0aGlzLnN0YXJ0R2FtZU1vZGUoKTtcclxuICAgIHRoaXMuZ2FtZURlY2suc2h1ZmZsZSgpO1xyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLmRlYWxlckhhbmQsIFwiaG9sZVwiKTtcclxuICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5wbGF5ZXJIYW5kKTtcclxuICAgIGxldCBkZWFsZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMuZGVhbGVySGFuZCk7XHJcbiAgICBsZXQgcGxheWVyUG9pbnRzID0gdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCI/XCIpOyAvLyBjb25jZWFsIGRlYWxlciB0b3RhbFxyXG5cclxuICAgIGlmIChkZWFsZXJQb2ludHMgPT09IDIxICYmIHBsYXllclBvaW50cyA9PT0gMjEpIHtcclxuICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiUHVzaFwiKTtcclxuICAgICAgdGhpcy5kZWFsZXJIYW5kLnVwZGF0ZURpc3BsYXkoXCJCbGFja2phY2tcIik7XHJcbiAgICAgIHRoaXMucGxheWVySGFuZC51cGRhdGVEaXNwbGF5KFwiQkxBQ0tKQUNLLCBIT1QgREFNTiFcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZWFsZXJQb2ludHMgPT09IDIxKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zXCIpO1xyXG4gICAgICB0aGlzLmRlYWxlckhhbmQudXBkYXRlRGlzcGxheShcIkJsYWNramFja1wiKTtcclxuICAgICAgdGhpcy5vdXRjb21lKFwibG9zZVwiKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBsYXllclBvaW50cyA9PT0gMjEpIHtcclxuICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiFcIik7XHJcbiAgICAgIHRoaXMuZGVhbGVySGFuZC51cGRhdGVEaXNwbGF5KGRlYWxlclBvaW50cyk7XHJcbiAgICAgIHRoaXMucGxheWVySGFuZC51cGRhdGVEaXNwbGF5KFwiQkxBQ0tKQUNLLCBIT1QgREFNTiFcIik7XHJcbiAgICAgIHRoaXMub3V0Y29tZShcImJsYWNramFja1wiKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMud2FsbGV0Lm1vbmV5ID4gdGhpcy53YWxsZXQuYmV0ICogMikge1xyXG4gICAgICBpZiAocGxheWVyUG9pbnRzID09PSAxMSkgIHtcclxuICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLiRkb3VibGVEb3duKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5wbGF5ZXJIYW5kLmNhblNwbGl0KCkpIHtcclxuICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLiRzcGxpdCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlYWxPbmVDYXJkKGhhbmQsIHNwZWNpYWwpIHtcclxuICAgIGxldCBjYXJkID0gdGhpcy5nYW1lRGVjay5kcmF3KCk7XHJcbiAgICBsZXQgJGNhcmQgPSAkKFwiPGltZyAvPlwiLCB7XHJcbiAgICAgIFwiY2xhc3NcIjogXCJjYXJkXCIsIFxyXG4gICAgICBcInNyY1wiOiBgJHtjYXJkLmdldEltYWdlVXJsKCl9YFxyXG4gICAgfSk7XHJcbiAgICBpZiAoc3BlY2lhbCA9PT0gXCJob2xlXCIpIHtcclxuICAgICAgJGNhcmQuYXR0cignc3JjJywgXCJpbWFnZXMvYmFjay1zdWl0cy1yZWQuc3ZnXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc3BlY2lhbCA9PT0gXCJkb3VibGUtZG93blwiKSB7XHJcbiAgICAgICRjYXJkLmFkZENsYXNzKCdjYXJkLWRkJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzcGVjaWFsID09PSBcInNwbGl0XCIpIHtcclxuICAgICAgJGNhcmQuYWRkQ2xhc3MoJ3NwbGl0Jyk7XHJcbiAgICB9XHJcbiAgICBoYW5kLmFkZENhcmQoY2FyZCwgJGNhcmQpO1xyXG4gICAgaGFuZC51cGRhdGVEaXNwbGF5KGhhbmQuZ2V0UG9pbnRzKCkpO1xyXG4gICAgcmV0dXJuIGhhbmQuZ2V0UG9pbnRzKCk7XHJcbiAgfVxyXG5cclxuICBkZWFsZXJUdXJuKC4uLmhhbmRzKSB7XHJcbiAgICB0aGlzLmRlYWxlckhhbmQucmV2ZWFsSG9sZSgpO1xyXG4gICAgd2hpbGUgKHRoaXMuZGVhbGVySGFuZC5nZXRQb2ludHMoKSA8IDE3KSB7XHJcbiAgICAgIHRoaXMuZGVhbE9uZUNhcmQodGhpcy5kZWFsZXJIYW5kKTtcclxuICAgIH1cclxuICAgIGhhbmRzLmZvckVhY2goaGFuZCA9PiB7XHJcbiAgICAgIGlmICghaGFuZC5vdXRjb21lKSB7XHJcbiAgICAgICAgdGhpcy5ldmFsdWF0ZUhhbmQoaGFuZClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlKC4uLmVsZW1lbnRzKSB7XHJcbiAgICBmb3IgKGxldCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZG91YmxlRG93bigpIHtcclxuICAgIHRoaXMud2FsbGV0LmRvdWJsZUJldCgpO1xyXG4gICAgLy8gZGVhbCB0aGUgcGxheWVyIG9uZSBtb3JlIGNhcmQgYW5kIHRoZW4gbW92ZSBvbiB0byB0aGUgZGVhbGVyJ3MgdHVyblxyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQsIFwiZG91YmxlLWRvd25cIik7XHJcbiAgICB0aGlzLnN0YW5kKCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGUoLi4uZWxlbWVudHMpIHtcclxuICAgIGZvciAobGV0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5kR2FtZU1vZGUoKSB7XHJcbiAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgdGhpcy5kZWFsZXJIYW5kLnJldmVhbEhvbGUoKTtcclxuICAgIHRoaXMuZGVhbGVySGFuZC51cGRhdGVEaXNwbGF5KHRoaXMuZGVhbGVySGFuZC5nZXRQb2ludHMoKSk7XHJcblxyXG4gICAgdGhpcy53YWxsZXQudXBkYXRlKCk7XHJcbiAgICB0aGlzLndhbGxldC5hc3Nlc3NDaGFuZ2UoKTtcclxuICAgICQoXCIuYmV0dGluZyAuYnV0dG9uc1wiKS5zaG93KCk7XHJcbiAgICB0aGlzLmVuYWJsZSh0aGlzLiRkZWFsKTtcclxuICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kKTtcclxuICB9XHJcblxyXG4gIGV2YWx1YXRlSGFuZChoYW5kKSB7XHJcbiAgICBsZXQgZGVhbGVyUG9pbnRzID0gdGhpcy5kZWFsZXJIYW5kLmdldFBvaW50cygpO1xyXG4gICAgbGV0IHBsYXllclBvaW50cyA9IGhhbmQuZ2V0UG9pbnRzKCk7XHJcbiAgICBpZiAoZGVhbGVyUG9pbnRzID4gMjEgfHwgcGxheWVyUG9pbnRzID4gZGVhbGVyUG9pbnRzKSB7XHJcbiAgICAgIGhhbmQub3V0Y29tZSA9IFwid2luXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwbGF5ZXJQb2ludHMgPCBkZWFsZXJQb2ludHMpIHtcclxuICAgICAgaGFuZC5vdXRjb21lID0gXCJsb3NlXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaGFuZC5vdXRjb21lID0gXCJwdXNoXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoaXQoKSB7XHJcbiAgICB0aGlzLmRpc2FibGUodGhpcy4kZG91YmxlRG93biwgdGhpcy4kc3BsaXQpO1xyXG4gICAgaWYgKCF0aGlzLnNwbGl0SW5QbGF5KSB7XHJcbiAgICAgIGxldCBwbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKHRoaXMucGxheWVySGFuZCk7XHJcbiAgICAgIGlmIChwbGF5ZXJQb2ludHMgPiAyMSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSBidXN0XCIpO1xyXG4gICAgICAgIHRoaXMub3V0Y29tZShcImxvc2VcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgY3VycmVudEhhbmQgPSB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgIGxldCBwbGF5ZXJQb2ludHMgPSB0aGlzLmRlYWxPbmVDYXJkKGN1cnJlbnRIYW5kLCBcInNwbGl0XCIpO1xyXG4gICAgICBpZiAocGxheWVyUG9pbnRzID4gMjEpIHtcclxuICAgICAgICBpZiAoY3VycmVudEhhbmQgPT09IHRoaXMucGxheWVySGFuZCkge1xyXG4gICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLm91dGNvbWUgPSBcImxvc2VcIjtcclxuICAgICAgICAgIHRoaXMucGxheWVySGFuZC5wbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RDdXJyZW50SGFuZCh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kMikge1xyXG4gICAgICAgICAgdGhpcy5wbGF5ZXJIYW5kMi5vdXRjb21lID0gXCJsb3NlXCI7XHJcbiAgICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcclxuICAgICAgICAgIHRoaXMuaW52b2tlT3V0Y29tZSh0aGlzLnBsYXllckhhbmQsIHRoaXMucGxheWVySGFuZDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW52b2tlT3V0Y29tZSguLi5oYW5kcykge1xyXG4gICAgbGV0IGhhbmQxID0gaGFuZHNbMF0ub3V0Y29tZTtcclxuICAgIGlmIChoYW5kcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgaWYgKGhhbmQxID09PSBcIndpblwiKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiFcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwibG9zZVwiKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiRGVhbGVyIHdpbnNcIik7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5vdXRjb21lKGhhbmQxKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFuZHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgIHRoaXMubXVsdGlwbGVPdXRjb21lcyhoYW5kcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtYWtlQmV0KCkge1xyXG4gICAgY29uc3QgZ2FtZSA9IHRoaXM7XHJcbiAgICB0aGlzLndhbGxldC51cGRhdGUoKTtcclxuICAgICQoXCIuYmV0LWJ0blwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBwb3NzaWJsZUJldCA9IGdhbWUud2FsbGV0Lm1vbmV5IC0gZ2FtZS53YWxsZXQuYmV0O1xyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDEwXCIpICYmIHBvc3NpYmxlQmV0ID49IDEwKSB7XHJcbiAgICAgICAgZ2FtZS53YWxsZXQuYmV0ICs9IDEwO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhZGQ1MFwiKSAmJiBwb3NzaWJsZUJldCA+PSA1MCkge1xyXG4gICAgICAgIGdhbWUud2FsbGV0LmJldCArPSA1MDtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiYWRkMTAwXCIpICYmIHBvc3NpYmxlQmV0ID49IDEwMCkge1xyXG4gICAgICAgIGdhbWUud2FsbGV0LmJldCArPSAxMDA7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImFkZDUwMFwiKSAmJiBwb3NzaWJsZUJldCA+PSA1MDApIHtcclxuICAgICAgICBnYW1lLndhbGxldC5iZXQgKz0gNTAwO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhbGwtaW5cIikpIHtcclxuICAgICAgICBnYW1lLndhbGxldC5iZXQgPSBnYW1lLndhbGxldC5tb25leTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwicmVzZXRcIikpIHtcclxuICAgICAgICBnYW1lLndhbGxldC5iZXQgPSAxMDtcclxuICAgICAgfVxyXG4gICAgICBnYW1lLiRiZXQudGV4dChnYW1lLndhbGxldC5iZXQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBtdWx0aXBsZU91dGNvbWVzKGhhbmRzKSB7XHJcbiAgICBsZXQgaGFuZDEgPSBoYW5kc1swXS5vdXRjb21lO1xyXG4gICAgbGV0IGhhbmQyID0gaGFuZHNbMV0ub3V0Y29tZTtcclxuICAgIGlmIChoYW5kMSA9PT0gaGFuZDIpIHtcclxuICAgICAgaWYgKGhhbmQxID09PSBcImJsYWNramFja1wiKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiVFdPIEJMQUNLSkFDS1MhISFcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwid2luXCIpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1lc3NhZ2UoXCJZb3Ugd2luIGJvdGghXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGhhbmQxID09PSBcImxvc2VcIikge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zIGJvdGhcIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiUHVzaCBib3RoXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMud2FsbGV0LnBheW91dChoYW5kMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYW5kMSAhPT0gaGFuZDIpIHtcclxuICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlIG9mIGVhY2ggaGFuZCBvdXRjb21lIGJlZm9yZSBjYWxsaW5nIHBheW91dCBmdW5jdGlvblxyXG4gICAgICBsZXQgaW5pdGlhbEJldCA9IHRoaXMud2FsbGV0LmJldCAvIDI7XHJcbiAgICAgIGxldCBoYW5kMVZhbHVlID0gMDtcclxuICAgICAgbGV0IGhhbmQyVmFsdWUgPSAwO1xyXG4gICAgICBpZiAoaGFuZDEgPT09IFwiYmxhY2tqYWNrXCIgfHwgaGFuZDIgPT09IFwiYmxhY2tqYWNrXCIpIHtcclxuICAgICAgICBoYW5kMVZhbHVlID0gaW5pdGlhbEJldCAqIDEuNTtcclxuICAgICAgICBpZiAoaGFuZDEgPT09IFwid2luXCIgfHwgaGFuZDIgPT09IFwid2luXCIpIHtcclxuICAgICAgICAgIGhhbmQyVmFsdWUgPSBpbml0aWFsQmV0O1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IHdpbiBib3RoIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwibG9zZVwiIHx8IGhhbmQyID09PSBcImxvc2VcIikge1xyXG4gICAgICAgICAgaGFuZDJWYWx1ZSA9IC1pbml0aWFsQmV0O1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IGFuZCBkZWFsZXIgZWFjaCB3aW4gb25lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gb25lLCBwdXNoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBcclxuICAgICAgZWxzZSBpZiAoaGFuZDEgPT09IFwid2luXCIgfHwgaGFuZDIgPT09IFwid2luXCIpIHtcclxuICAgICAgICBoYW5kMVZhbHVlID0gaW5pdGlhbEJldDtcclxuICAgICAgICBpZiAoaGFuZDEgPT09IFwibG9zZVwiIHx8IGhhbmQyID09PSBcImxvc2VcIikge1xyXG4gICAgICAgICAgaGFuZDJWYWx1ZSA9IC1pbml0aWFsQmV0O1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKFwiWW91IGFuZCBkZWFsZXIgZWFjaCB3aW4gb25lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIllvdSB3aW4gb25lLCBwdXNoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChoYW5kMSA9PT0gXCJsb3NlXCIgfHwgaGFuZDIgPT09IFwibG9zZVwiKSB7XHJcbiAgICAgICAgaGFuZDFWYWx1ZSA9IC1pbml0aWFsQmV0O1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIkRlYWxlciB3aW5zIG9uZSwgcHVzaFwiKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLndhbGxldC5wYXlvdXQoXCJjdXN0b21cIiwgaGFuZDFWYWx1ZSwgaGFuZDJWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNwbGl0SW5QbGF5ID0gZmFsc2U7XHJcbiAgICB0aGlzLmVuZEdhbWVNb2RlKCk7XHJcbiAgfVxyXG5cclxuICBtb2RhbChtb2RhbFR5cGUpIHtcclxuICAgIGlmIChtb2RhbFR5cGUgPT09IFwiYmFua3J1cHRcIikge1xyXG4gICAgICBjb25zdCBnYW1lID0gdGhpcztcclxuICAgICAgJChcIi5tb2RhbCwgLm1vZGFsLW92ZXJsYXlcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAkKFwiLm1vZGFsLWd1dHMgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChcIi5tb2RhbCwgLm1vZGFsLW92ZXJsYXlcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIudGl0bGUtc2NyZWVuXCIpLnNob3coKTtcclxuICAgICAgICBnYW1lLnJlc2V0R2FtZSgpO1xyXG4gICAgICAgIGdhbWUud2FsbGV0LnJlc2V0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobW9kYWxUeXBlID09PSBcImhlbHBcIikge1xyXG4gICAgICAvLyBmdXR1cmUgZ2FtZSBmZWF0dXJlOiBpbnN0cnVjdGlvbnMgYXZhaWxhYmxlIGluIGhlbHAgbW9kYWxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG91dGNvbWUocmVzdWx0KSB7XHJcbiAgICB0aGlzLndhbGxldC5wYXlvdXQocmVzdWx0KTtcclxuICAgIGlmIChyZXN1bHQgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlTWVzc2FnZShcIlB1c2hcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChyZXN1bHQgPT09IFwibG9zZVwiKSB7XHJcbiAgICAgIGlmICh0aGlzLndhbGxldC5tb25leSAtIHRoaXMud2FsbGV0LmJldCA8PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tb2RhbChcImJhbmtydXB0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmVuZEdhbWVNb2RlKCk7XHJcbiAgfVxyXG5cclxuICByZXNldEdhbWUoKSB7XHJcbiAgICB0aGlzLmdhbWVEZWNrID0gbmV3IERlY2s7XHJcbiAgICB0aGlzLmRlYWxlckhhbmQgPSBuZXcgSGFuZChcImRlYWxlclwiKTtcclxuICAgIHRoaXMucGxheWVySGFuZCA9IG5ldyBIYW5kKFwicGxheWVyXCIsIDEpO1xyXG4gICAgJChcIi5tZXNzYWdlc1wiKS5lbXB0eSgpO1xyXG4gICAgJChcIi5wbGF5ZXItaGFuZFwiKS5lbXB0eSgpO1xyXG4gICAgJChcIi5kZWFsZXItaGFuZFwiKS5lbXB0eSgpO1xyXG4gICAgJChcIi5wbGF5ZXItcG9pbnRzXCIpLmVtcHR5KCk7XHJcbiAgICAkKFwiLmRlYWxlci1wb2ludHNcIikuZW1wdHkoKTtcclxuICAgICQoXCIuY2hhbmdlXCIpLmVtcHR5KCk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RDdXJyZW50SGFuZCguLi5oYW5kcykge1xyXG4gICAgbGV0IGN1cnJlbnRIYW5kO1xyXG4gICAgZm9yIChsZXQgaGFuZCBvZiBoYW5kcykge1xyXG4gICAgICBoYW5kLnRvZ2dsZUhpZ2hsaWdodCgpO1xyXG4gICAgICBpZiAoaGFuZC5wbGF5aW5nKSB7XHJcbiAgICAgICAgY3VycmVudEhhbmQgPSBoYW5kO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudEhhbmQ7XHJcbiAgfVxyXG5cclxuICBzcGxpdCgpIHtcclxuICAgIHRoaXMuc3BsaXRJblBsYXkgPSB0cnVlO1xyXG4gICAgdGhpcy5kaXNhYmxlKHRoaXMuJHNwbGl0KTtcclxuICAgIHRoaXMud2FsbGV0LmRvdWJsZUJldCgpO1xyXG5cclxuICAgIC8vIHN0YXJ0IGFkZGl0aW9uYWwgaGFuZCBhbmQgbW92ZSBvbmUgY2FyZCBmcm9tIGhhbmQgMSB0byBoYW5kIDJcclxuICAgIHRoaXMuYWRqdXN0U3BhY2UoKTtcclxuICAgIHRoaXMucGxheWVySGFuZDIgPSBuZXcgSGFuZChcInBsYXllclwiLCAyKTtcclxuICAgIGxldCByZW1vdmVkQ2FyZCA9IHRoaXMucGxheWVySGFuZC5yZW1vdmVDYXJkKCk7XHJcbiAgICB0aGlzLnBsYXllckhhbmQyLmFkZENhcmQocmVtb3ZlZENhcmQuY2FyZCwgcmVtb3ZlZENhcmQuJGNhcmQpO1xyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgdGhpcy5kZWFsT25lQ2FyZCh0aGlzLnBsYXllckhhbmQyKTtcclxuICB9XHJcblxyXG4gIHN0YW5kKCkge1xyXG4gICAgaWYgKCF0aGlzLnNwbGl0SW5QbGF5KSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kLCB0aGlzLiRkb3VibGVEb3duLCB0aGlzLiRzcGxpdCk7XHJcbiAgICAgIHRoaXMuZGVhbGVyVHVybih0aGlzLnBsYXllckhhbmQpO1xyXG4gICAgICB0aGlzLmludm9rZU91dGNvbWUodGhpcy5wbGF5ZXJIYW5kKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgY3VycmVudEhhbmQgPSB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgIGlmIChjdXJyZW50SGFuZCA9PT0gdGhpcy5wbGF5ZXJIYW5kKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJIYW5kLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q3VycmVudEhhbmQodGhpcy5wbGF5ZXJIYW5kLCB0aGlzLnBsYXllckhhbmQyKTtcclxuICAgICAgfSBcclxuICAgICAgZWxzZSBpZiAoY3VycmVudEhhbmQgPT09IHRoaXMucGxheWVySGFuZDIpIHtcclxuICAgICAgICB0aGlzLnBsYXllckhhbmQyLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgICAgdGhpcy5kZWFsZXJUdXJuKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgICAgdGhpcy5pbnZva2VPdXRjb21lKHRoaXMucGxheWVySGFuZCwgdGhpcy5wbGF5ZXJIYW5kMik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0R2FtZU1vZGUoKSB7XHJcbiAgICAkKFwiLnRpdGxlLXNjcmVlblwiKS5oaWRlKCk7XHJcbiAgICB0aGlzLmFkanVzdFNwYWNlKCk7XHJcbiAgICB0aGlzLmVuYWJsZSh0aGlzLiRoaXQsIHRoaXMuJHN0YW5kKTtcclxuICAgIHRoaXMuZGlzYWJsZSh0aGlzLiRkZWFsKTtcclxuICAgICQoXCIuYmV0dGluZyAuYnV0dG9uc1wiKS5oaWRlKCk7XHJcbiAgICB0aGlzLnBsYXllckhhbmQucGxheWluZyA9IHRydWU7XHJcbiAgICB0aGlzLnNlbGVjdEN1cnJlbnRIYW5kKHRoaXMucGxheWVySGFuZCk7ICBcclxuICB9XHJcblxyXG4gIHVwZGF0ZU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgJChcIi5tZXNzYWdlc1wiKS5hcHBlbmQoYDxoMT4ke21lc3NhZ2V9PC9oMT5gKTtcclxuICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2NvbXBvbmVudHMvZ2FtZS5qcyIsImltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIjtcclxuaW1wb3J0IEhhbmQgZnJvbSBcIi4vaGFuZFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVjayB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNhcmRzID0gW107XHJcbiAgfVxyXG5cclxuICBkcmF3KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FyZHMucG9wKCk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZShudW1EZWNrcykge1xyXG4gICAgaWYgKCFudW1EZWNrcykge1xyXG4gICAgICBudW1EZWNrcyA9IDE7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAobnVtRGVja3MgPiAwKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDEzOyBpKyspIHtcclxuICAgICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IENhcmQoaSwgXCJzcGFkZXNcIikpO1xyXG4gICAgICAgIHRoaXMuY2FyZHMucHVzaChuZXcgQ2FyZChpLCBcImRpYW1vbmRzXCIpKTtcclxuICAgICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IENhcmQoaSwgXCJoZWFydHNcIikpO1xyXG4gICAgICAgIHRoaXMuY2FyZHMucHVzaChuZXcgQ2FyZChpLCBcImNsdWJzXCIpKTtcclxuICAgICAgfVxyXG4gICAgICBudW1EZWNrcy0tO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2h1ZmZsZSgpIHtcclxuICAgIGZvciAobGV0IGkgPSB0aGlzLmNhcmRzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xyXG4gICAgICBbdGhpcy5jYXJkc1tpXV0gPSBbdGhpcy5jYXJkc1tqXV07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL2RlY2suanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsZXQge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5tb25leSA9IDUwMDtcclxuXHRcdHRoaXMuYmV0ID0gMTA7XHJcblx0XHR0aGlzLmNoYW5nZSA9IFwiXCI7XHJcblxyXG5cdFx0dGhpcy4kdG90YWwgPSAkKFwiLnRvdGFsXCIpO1xyXG5cdFx0dGhpcy4kYmV0ID0gJChcIi5jdXJyZW50QmV0XCIpO1xyXG5cdFx0dGhpcy4kY2hhbmdlID0gJChcIi5jaGFuZ2VcIik7XHJcblx0fVxyXG5cclxuXHRhc3Nlc3NDaGFuZ2UoKSB7XHJcblx0XHRsZXQgY2xhc3NOYW1lID0gXCJcIjtcclxuXHRcdGxldCBzeW1ib2wgPSBcIlwiO1xyXG5cdFx0aWYgKHRoaXMuY2hhbmdlID4gMCkge1xyXG5cdFx0XHRjbGFzc05hbWUgPSBcInBvc2l0aXZlXCI7XHJcblx0XHRcdHN5bWJvbCA9IFwiK1wiO1xyXG5cdFx0fSBlbHNlIGlmICh0aGlzLmNoYW5nZSA8IDApIHtcclxuXHRcdFx0Y2xhc3NOYW1lID0gXCJuZWdhdGl2ZVwiO1xyXG5cdFx0XHRzeW1ib2wgPSBcIi1cIjtcclxuXHRcdH1cclxuXHRcdHRoaXMuJGNoYW5nZS5hcHBlbmQoYDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+JHtzeW1ib2x9ICQke01hdGguYWJzKHRoaXMuY2hhbmdlKX08L3NwYW4+YCk7XHJcblx0fVxyXG5cdFxyXG5cdGRvdWJsZUJldCgpIHtcclxuXHRcdHRoaXMubW9uZXkgLT0gdGhpcy5iZXQ7XHJcblx0XHR0aGlzLmJldCAqPSAyO1xyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHR9XHJcblxyXG5cdHBheW91dChvdXRjb21lLCBoYW5kMVZhbHVlLCBoYW5kMlZhbHVlKSB7XHJcblx0XHRpZiAob3V0Y29tZSA9PT0gXCJibGFja2phY2tcIikge1xyXG5cdFx0XHR0aGlzLmNoYW5nZSA9IHRoaXMuYmV0ICogMS41O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJ3aW5cIikge1xyXG5cdFx0XHR0aGlzLmNoYW5nZSA9IHRoaXMuYmV0O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAob3V0Y29tZSA9PT0gXCJsb3NlXCIpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2UgPSAtdGhpcy5iZXQ7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChvdXRjb21lID09PSBcInB1c2hcIikge1xyXG5cdFx0XHR0aGlzLmNoYW5nZSA9IDA7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChvdXRjb21lID09PSBcIm11bHRpcGxlXCIpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2UgPSBoYW5kMVZhbHVlICsgaGFuZDJWYWx1ZTtcclxuXHRcdH1cclxuXHRcdHRoaXMubW9uZXkgKz0gdGhpcy5jaGFuZ2U7XHJcblx0fVxyXG5cclxuXHRyZXNldCgpIHtcclxuXHRcdHRoaXMubW9uZXkgPSA1MDA7XHJcblx0XHR0aGlzLmJldCA9IDEwO1xyXG5cdFx0dGhpcy5jaGFuZ2UgPSBcIlwiO1xyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZSgpIHtcclxuXHRcdHRoaXMuJHRvdGFsLnRleHQodGhpcy5tb25leSk7XHJcblx0XHR0aGlzLiRiZXQudGV4dCh0aGlzLmJldCk7XHJcblx0fVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL3dhbGxldC5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL21haW4uc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gUHJlcGFyZSBjc3NUcmFuc2Zvcm1hdGlvblxudmFyIHRyYW5zZm9ybTtcblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYWluLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vbWFpbi5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zY3NzL21haW4uc2Nzc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHVuZGVmaW5lZCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqe2JveC1zaXppbmc6Ym9yZGVyLWJveH1ib2R5LGh0bWx7aGVpZ2h0OjEwMCU7Zm9udC1zaXplOjgwJX1ib2R5e21hcmdpbjowO21pbi1oZWlnaHQ6NTUwcHg7YmFja2dyb3VuZC1jb2xvcjojOGMwMDAyO2ZvbnQtZmFtaWx5OkVrIE11a3RhLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6MzAwO2ZvbnQtc2l6ZToxcmVtO2NvbG9yOiNmY2ZlZTV9bWFpbntoZWlnaHQ6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcn1oMSxoMixoMyxoNCxoNSxoNnttYXJnaW46MDtmb250LXdlaWdodDozMDB9aDF7bWFyZ2luOjEwcHggMH10YWJsZXttYXJnaW4tYm90dG9tOjEwcHg7d2lkdGg6MTAwJTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGV4dC1hbGlnbjpjZW50ZXJ9dGR7d2lkdGg6NTAlO2hlaWdodDoxLjVyZW19YnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6NXB4O3dpZHRoOjQ5JTtmb250LWZhbWlseTpFayBNdWt0YSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxcmVtO2ZvbnQtd2VpZ2h0OjMwMDtiYWNrZ3JvdW5kOiNmY2ZlZTU7Y29sb3I6IzA2MDYwNTtib3JkZXI6NHB4IHNvbGlkICNiYTc2MTk7b3V0bGluZTpub25lfWJ1dHRvbjpob3ZlcntjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfWJ1dHRvbjphY3RpdmV7b3V0bGluZTpub25lfWJ1dHRvbltkaXNhYmxlZF0sYnV0dG9uW2Rpc2FibGVkXTpob3Zlcntib3JkZXI6NHB4IHNvbGlkICM4YzAwMDI7Y29sb3I6dHJhbnNwYXJlbnQ7dGV4dC1zaGFkb3c6MCAwIDVweCByZ2JhKDYsNiw1LC41KTtjdXJzb3I6ZGVmYXVsdDt0ZXh0LWRlY29yYXRpb246bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZX1idXR0b25bZGlzYWJsZWRdOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDojMDYwNjA1O29wYWNpdHk6LjN9LmZse2Zsb2F0OmxlZnR9LmZye2Zsb2F0OnJpZ2h0fS5jZjphZnRlcntjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aH0ucG9zaXRpdmV7Y29sb3I6IzJmZjMxY30ubmVnYXRpdmV7Y29sb3I6I2ZiMDAwN30uY29udGFpbmVye21hcmdpbjowIGF1dG87d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWFyb3VuZH0ubWVzc2FnZXN7aGVpZ2h0OjY2cHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS50YWJsZXtwb3NpdGlvbjpyZWxhdGl2ZX0udGl0bGUtc2NyZWVue3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7ei1pbmRleDoxO3RleHQtYWxpZ246Y2VudGVyfS50aXRsZS1zY3JlZW4gaDF7Zm9udC1zaXplOjVyZW19LnRpdGxlLXNjcmVlbiAuaW5zdHJ1Y3Rpb25ze3dpZHRoOjUwJTtmbG9hdDpsZWZ0fS5kZWFsZXIsLnBsYXllcnt3aWR0aDoxMDAlO2hlaWdodDoxNjBweH0uZGVhbGVySGFuZC1kaXYsLnBsYXllckhhbmQtZGl2e3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6bGVmdH0uZGVhbGVyLWhhbmQsLnBsYXllci1oYW5ke21hcmdpbjowIGF1dG87cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjExMHB4O3dpZHRoOjcwJX0uY3VycmVudEhhbmQ6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtvcGFjaXR5Oi4xNTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDojZmZmfS5jYXJkLC5jdXJyZW50SGFuZDphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MTAwJX0uY2FyZHtyaWdodDotNTAlfS5jYXJkLWRke3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO2xlZnQ6NDBweCFpbXBvcnRhbnR9LmNhcmQ6Zmlyc3QtY2hpbGR7bGVmdDowfS5jYXJkOm50aC1jaGlsZCgyKXtsZWZ0OjQwcHh9LmNhcmQ6bnRoLWNoaWxkKDMpe2xlZnQ6ODBweH0uY2FyZDpudGgtY2hpbGQoNCl7bGVmdDoxMjBweH0uY2FyZDpudGgtY2hpbGQoNSl7bGVmdDoxNjBweH0uY2FyZDpudGgtY2hpbGQoNil7bGVmdDoyMDBweH0uY2FyZDpudGgtY2hpbGQoNyl7bGVmdDoyNDBweH0uY2FyZDpudGgtY2hpbGQoOCl7bGVmdDoyODBweH0uY2FyZDpudGgtY2hpbGQoOSl7bGVmdDozMjBweH0uY2FyZC5zcGxpdHtsZWZ0OjB9LmNhcmQuc3BsaXQ6bnRoLWNoaWxkKDIpe2xlZnQ6MTBweH0uY2FyZC5zcGxpdDpudGgtY2hpbGQoMyl7bGVmdDoyMHB4fS5jYXJkLnNwbGl0Om50aC1jaGlsZCg0KXtsZWZ0OjMwcHh9LmNhcmQuc3BsaXQ6bnRoLWNoaWxkKDUpe2xlZnQ6NDBweH0uY2FyZC5zcGxpdDpudGgtY2hpbGQoNil7bGVmdDo1MHB4fS5jYXJkLnNwbGl0Om50aC1jaGlsZCg3KXtsZWZ0OjYwcHh9LmNhcmQuc3BsaXQ6bnRoLWNoaWxkKDgpe2xlZnQ6NzBweH0uY2FyZC5zcGxpdDpudGgtY2hpbGQoOSl7bGVmdDo4MHB4fS5hY3Rpb24td3JhcHttYXJnaW46MCBhdXRvO3dpZHRoOjk1JX0uYmV0dGluZywuZ2FtZS1hY3Rpb25ze3dpZHRoOjUwJTtmbG9hdDpsZWZ0fS5hY3Rpb25zIC5jb250YWluZXIsLm1vbmV5IC5jb250YWluZXJ7bWFyZ2luOjAgYXV0bzttYXgtd2lkdGg6NDAwcHg7d2lkdGg6ODAlfS5kZWFse21hcmdpbjowIGF1dG87ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlfS5yb3d7bWFyZ2luLWJvdHRvbTo1cHg7cG9zaXRpb246cmVsYXRpdmV9Lm1vbmV5IGgze2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5tb2RhbHtwb3NpdGlvbjpmaXhlZDt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTttYXgtd2lkdGg6NTAwcHg7bWF4LWhlaWdodDo1MDBweDtoZWlnaHQ6OTAlO3dpZHRoOjkwJTt6LWluZGV4OjJ9Lm1vZGFsLWd1dHN7YmFja2dyb3VuZDojZmNmZWU1O2NvbG9yOiMwNjA2MDU7b3ZlcmZsb3c6YXV0bztkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5tb2RhbC1ndXRzLC5tb2RhbC1vdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5tb2RhbC1vdmVybGF5e2JhY2tncm91bmQ6IzA2MDYwNTt6LWluZGV4OjE7b3BhY2l0eTouNX0uaGlkZXtkaXNwbGF5Om5vbmV9QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDo0ODBweCl7aHRtbHtmb250LXNpemU6MTAwJX1ib2R5e21pbi1oZWlnaHQ6NjAwcHghaW1wb3J0YW50fS5hY3Rpb24td3JhcCwuY29udGFpbmVye3dpZHRoOjkwJX0uZGVhbGVyLWhhbmQsLnBsYXllci1oYW5ke2hlaWdodDoxNTBweDt3aWR0aDo1MCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6NzY4cHgpe2h0bWx7Zm9udC1zaXplOjEyNSV9Ym9keXttaW4taGVpZ2h0OjcwMHB4fS5kZWFsZXIsLnBsYXllcntoZWlnaHQ6MjAwcHg7d2lkdGg6NTAlO2Zsb2F0OmxlZnQ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uZGVhbGVyLWhhbmQsLnBsYXllci1oYW5ke2hlaWdodDoyMDBweDt3aWR0aDo5MCV9LmFjdGlvbi13cmFwe21hcmdpbjowIGF1dG87d2lkdGg6ODAlfX1AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjk2MHB4KXsuY29udGFpbmVye3dpZHRoOjgwJX0uZGVhbGVyLWhhbmQsLnBsYXllci1oYW5ke2hlaWdodDoyMDBweDt3aWR0aDo4MCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6MTIwMHB4KXtib2R5e21pbi1oZWlnaHQ6OTUwcHh9LmNvbnRhaW5lcnt3aWR0aDo3MCV9LmRlYWxlciwucGxheWVye2hlaWdodDoyNjBweH0uZGVhbGVyLWhhbmQsLnBsYXllci1oYW5ke2hlaWdodDoyNTBweDt3aWR0aDo4MCV9LmNhcmQtZGR7bGVmdDo1MHB4IWltcG9ydGFudH0uY2FyZDpmaXJzdC1jaGlsZHtsZWZ0OjB9LmNhcmQ6bnRoLWNoaWxkKDIpe2xlZnQ6NTBweH0uY2FyZDpudGgtY2hpbGQoMyl7bGVmdDoxMDBweH0uY2FyZDpudGgtY2hpbGQoNCl7bGVmdDoxNTBweH0uY2FyZDpudGgtY2hpbGQoNSl7bGVmdDoyMDBweH0uY2FyZDpudGgtY2hpbGQoNil7bGVmdDoyNTBweH0uY2FyZDpudGgtY2hpbGQoNyl7bGVmdDozMDBweH0uY2FyZDpudGgtY2hpbGQoOCl7bGVmdDozNTBweH0uY2FyZDpudGgtY2hpbGQoOSl7bGVmdDo0MDBweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDoxNjAwcHgpe2h0bWx7Zm9udC1zaXplOjE1MCV9YnV0dG9ue3BhZGRpbmc6MTVweH0uY29udGFpbmVye21heC13aWR0aDoxNDAwcHh9Lm1lc3NhZ2Vze2hlaWdodDo3NXB4fS5kZWFsZXItaGFuZCwucGxheWVyLWhhbmR7aGVpZ2h0OjMwMHB4O3dpZHRoOjYwJX0uY2FyZC1kZHtsZWZ0OjcwcHghaW1wb3J0YW50fS5jYXJkOmZpcnN0LWNoaWxke2xlZnQ6MH0uY2FyZDpudGgtY2hpbGQoMil7bGVmdDo3MHB4fS5jYXJkOm50aC1jaGlsZCgzKXtsZWZ0OjE0MHB4fS5jYXJkOm50aC1jaGlsZCg0KXtsZWZ0OjIxMHB4fS5jYXJkOm50aC1jaGlsZCg1KXtsZWZ0OjI4MHB4fS5jYXJkOm50aC1jaGlsZCg2KXtsZWZ0OjM1MHB4fS5jYXJkOm50aC1jaGlsZCg3KXtsZWZ0OjQyMHB4fS5jYXJkOm50aC1jaGlsZCg4KXtsZWZ0OjQ5MHB4fS5jYXJkOm50aC1jaGlsZCg5KXtsZWZ0OjU2MHB4fS5hY3Rpb24td3JhcHt3aWR0aDo3MCV9fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIhLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3NyYy9zY3NzL21haW4uc2Nzc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0XHRpZiAodHlwZW9mIG1lbW9bc2VsZWN0b3JdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBmbi5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAoc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3NlbGVjdG9yXSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1tzZWxlY3Rvcl1cblx0fTtcbn0pKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KVxufSk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9